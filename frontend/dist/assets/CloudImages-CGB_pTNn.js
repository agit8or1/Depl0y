import{_ as $,c as s,o as n,a as e,d as g,t as i,F as w,p as k,m as E,n as ee,e as b,A as q,E as oe,w as B,v as S,B as te,x as ae,r as c,k as le,G as se,l as p}from"./index-Dmr-bdMq.js";const ne={name:"CloudImages",setup(){const r=ae(),o=c([]),L=c([]),t=c(!1),I=c(!1),F=c(!1),a=c(null),u=c(!1),x=c(null),A=c(!1),M=c({}),U=c(!1),T=c(!1);let f=null;const h=c({name:"",filename:"",download_url:"",os_type:"",version:"",architecture:"amd64",checksum:""}),_=c({selectedNodeId:"",selectedImageIds:[]}),N=c([{name:"Ubuntu 24.04 LTS (Noble)",filename:"noble-server-cloudimg-amd64.img",os_type:"ubuntu",version:"24.04",architecture:"amd64",download_url:"https://cloud-images.ubuntu.com/noble/current/noble-server-cloudimg-amd64.img",icon:"ðŸŸ "},{name:"Ubuntu 22.04 LTS (Jammy)",filename:"jammy-server-cloudimg-amd64.img",os_type:"ubuntu",version:"22.04",architecture:"amd64",download_url:"https://cloud-images.ubuntu.com/jammy/current/jammy-server-cloudimg-amd64.img",icon:"ðŸŸ "},{name:"Ubuntu 20.04 LTS (Focal)",filename:"focal-server-cloudimg-amd64.img",os_type:"ubuntu",version:"20.04",architecture:"amd64",download_url:"https://cloud-images.ubuntu.com/focal/current/focal-server-cloudimg-amd64.img",icon:"ðŸŸ "},{name:"Debian 12 (Bookworm)",filename:"debian-12-generic-amd64.qcow2",os_type:"debian",version:"12",architecture:"amd64",download_url:"https://cloud.debian.org/images/cloud/bookworm/latest/debian-12-generic-amd64.qcow2",icon:"ðŸ”´"},{name:"Debian 11 (Bullseye)",filename:"debian-11-generic-amd64.qcow2",os_type:"debian",version:"11",architecture:"amd64",download_url:"https://cloud.debian.org/images/cloud/bullseye/latest/debian-11-generic-amd64.qcow2",icon:"ðŸ”´"},{name:"Rocky Linux 9",filename:"Rocky-9-GenericCloud-Base.latest.x86_64.qcow2",os_type:"rocky",version:"9",architecture:"amd64",download_url:"https://download.rockylinux.org/pub/rocky/9/images/x86_64/Rocky-9-GenericCloud-Base.latest.x86_64.qcow2",icon:"ðŸŸ¢"},{name:"Rocky Linux 8",filename:"Rocky-8-GenericCloud-Base.latest.x86_64.qcow2",os_type:"rocky",version:"8",architecture:"amd64",download_url:"https://download.rockylinux.org/pub/rocky/8/images/x86_64/Rocky-8-GenericCloud-Base.latest.x86_64.qcow2",icon:"ðŸŸ¢"},{name:"AlmaLinux 9",filename:"AlmaLinux-9-GenericCloud-latest.x86_64.qcow2",os_type:"alma",version:"9",architecture:"amd64",download_url:"https://repo.almalinux.org/almalinux/9/cloud/x86_64/images/AlmaLinux-9-GenericCloud-latest.x86_64.qcow2",icon:"ðŸ”µ"},{name:"AlmaLinux 8",filename:"AlmaLinux-8-GenericCloud-latest.x86_64.qcow2",os_type:"alma",version:"8",architecture:"amd64",download_url:"https://repo.almalinux.org/almalinux/8/cloud/x86_64/images/AlmaLinux-8-GenericCloud-latest.x86_64.qcow2",icon:"ðŸ”µ"},{name:"Fedora Cloud 40",filename:"Fedora-Cloud-Base-40.qcow2",os_type:"fedora",version:"40",architecture:"amd64",download_url:"https://download.fedoraproject.org/pub/fedora/linux/releases/40/Cloud/x86_64/images/Fedora-Cloud-Base-Generic-40-1.14.x86_64.qcow2",icon:"ðŸ”·"},{name:"Fedora Cloud 39",filename:"Fedora-Cloud-Base-39.qcow2",os_type:"fedora",version:"39",architecture:"amd64",download_url:"https://download.fedoraproject.org/pub/fedora/linux/releases/39/Cloud/x86_64/images/Fedora-Cloud-Base-Generic-39-1.5.x86_64.qcow2",icon:"ðŸ”·"},{name:"CentOS Stream 9",filename:"CentOS-Stream-GenericCloud-9.qcow2",os_type:"centos",version:"9",architecture:"amd64",download_url:"https://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-9-latest.x86_64.qcow2",icon:"ðŸŸ£"},{name:"openSUSE Leap 15.6",filename:"openSUSE-Leap-15.6-Minimal-VM.qcow2",os_type:"opensuse",version:"15.6",architecture:"amd64",download_url:"https://download.opensuse.org/distribution/leap/15.6/appliances/openSUSE-Leap-15.6-Minimal-VM.x86_64-Cloud.qcow2",icon:"ðŸŸ¢"},{name:"Arch Linux",filename:"Arch-Linux-x86_64-cloudimg.qcow2",os_type:"other",version:"latest",architecture:"amd64",download_url:"https://geo.mirror.pkgbuild.com/images/latest/Arch-Linux-x86_64-cloudimg.qcow2",icon:"ðŸ”µ"},{name:"Oracle Linux 9",filename:"OL9U5_x86_64-kvm-b264.qcow2",os_type:"other",version:"9",architecture:"amd64",download_url:"https://yum.oracle.com/templates/OracleLinux/OL9/u5/x86_64/OL9U5_x86_64-kvm-b264.qcow2",icon:"ðŸ”´"},{name:"Oracle Linux 8",filename:"OL8U10_x86_64-kvm-b245.qcow2",os_type:"other",version:"8",architecture:"amd64",download_url:"https://yum.oracle.com/templates/OracleLinux/OL8/u10/x86_64/OL8U10_x86_64-kvm-b245.qcow2",icon:"ðŸ”´"},{name:"Alpine Linux 3.21",filename:"alpine-virt-3.21.0-x86_64.qcow2",os_type:"other",version:"3.21",architecture:"amd64",download_url:"https://dl-cdn.alpinelinux.org/alpine/v3.21/releases/cloud/nocloud_alpine-3.21.0-x86_64-bios-cloudinit-r0.qcow2",icon:"â›°ï¸"},{name:"Kali Linux",filename:"kali-linux-cloud.qcow2",os_type:"other",version:"latest",architecture:"amd64",download_url:"https://kali.download/cloud-images/kali-latest/kali-linux-cloud-generic-amd64.qcow2",icon:"ðŸ‰"},{name:"FreeBSD 14.1",filename:"FreeBSD-14.1-RELEASE-amd64.qcow2",os_type:"other",version:"14.1",architecture:"amd64",download_url:"https://download.freebsd.org/releases/VM-IMAGES/14.1-RELEASE/amd64/Latest/FreeBSD-14.1-RELEASE-amd64-BASIC-CLOUDINIT.qcow2.xz",icon:"ðŸ˜ˆ"},{name:"Gentoo Linux",filename:"gentoo-openstack-amd64.qcow2",os_type:"other",version:"latest",architecture:"amd64",download_url:"https://distfiles.gentoo.org/releases/amd64/autobuilds/current-cloud-stage3/openstack/gentoo-openstack-amd64-systemd-latest.qcow2",icon:"ðŸ¦©"}]),R=l=>{h.value={name:l.name,filename:l.filename,download_url:l.download_url,os_type:l.os_type,version:l.version,architecture:l.architecture,checksum:""}},y=async()=>{t.value=!0;try{const l=await p.cloudImages.list();o.value=l.data}catch(l){console.error("Failed to fetch cloud images:",l)}finally{t.value=!1}},V=async l=>{try{await p.cloudImages.download(l),r.success("Cloud image download started"),D()}catch(d){console.error("Failed to start download:",d),r.error("Failed to start download")}},G=async()=>{u.value=!0;try{a.value?(await p.cloudImages.update(a.value.id,h.value),r.success("Cloud image updated successfully")):(await p.cloudImages.create(h.value),r.success("Cloud image added successfully")),O(),y()}catch(l){console.error("Failed to save cloud image:",l),r.error("Failed to save cloud image")}finally{u.value=!1}},P=l=>{a.value=l,h.value={name:l.name,filename:l.filename,download_url:l.download_url,os_type:l.os_type,version:l.version||"",architecture:l.architecture,checksum:l.checksum||""},I.value=!0},j=async l=>{if(confirm("Are you sure you want to delete this cloud image?"))try{await p.cloudImages.delete(l),r.success("Cloud image deleted successfully"),y()}catch(d){console.error("Failed to delete cloud image:",d),r.error("Failed to delete cloud image")}},O=()=>{I.value=!1,a.value=null,x.value=null,h.value={name:"",filename:"",download_url:"",os_type:"",version:"",architecture:"amd64",checksum:""}},z=l=>{if(!l)return"0 B";const d=["B","KB","MB","GB","TB"],v=Math.floor(Math.log(l)/Math.log(1024));return Math.round(l/Math.pow(1024,v)*100)/100+" "+d[v]},H=l=>({ubuntu:"Ubuntu",debian:"Debian",centos:"CentOS",rocky:"Rocky Linux",alma:"AlmaLinux",fedora:"Fedora",opensuse:"openSUSE",other:"Other"})[l]||l,K=async()=>{try{const l=await p.proxmox.listHosts(),d=[];for(const v of l.data)try{const m=await p.proxmox.listNodes(v.id);m.data&&m.data.length>0&&m.data.forEach(C=>{d.push({id:C.id,node_name:C.node_name,proxmox_host_name:v.name})})}catch(m){console.error(`Failed to fetch nodes for host ${v.name}:`,m)}L.value=d}catch(l){console.error("Failed to fetch nodes:",l),r.error("Failed to fetch Proxmox nodes")}},J=async()=>{if(!_.value.selectedNodeId||_.value.selectedImageIds.length===0){r.error("Please select a node and at least one cloud image");return}A.value=!0;try{await p.cloudImages.setupTemplates({node_id:parseInt(_.value.selectedNodeId),cloud_image_ids:_.value.selectedImageIds}),r.success("Template setup started! This may take several minutes."),F.value=!1,_.value={selectedNodeId:"",selectedImageIds:[]}}catch(l){console.error("Failed to setup templates:",l),r.error("Failed to start template setup")}finally{A.value=!1}},Q=async()=>{F.value=!0,await K()},D=()=>{f||(f=setInterval(()=>{y(),!o.value.some(d=>d.download_status==="downloading")&&f&&(clearInterval(f),f=null)},2e3))},W=async()=>{U.value=!0,M.value={};try{const l=await p.proxmox.listHosts(),d={};for(const v of l.data)try{const m=await p.proxmox.listNodes(v.id);if(m.data&&m.data.length>0)for(const C of m.data){const Z=await p.cloudImages.checkTemplates(C.id);d[C.id]=Z.data}}catch(m){console.error(`Failed to check templates for host ${v.name}:`,m)}M.value=d,r.success("Template status checked successfully")}catch(l){console.error("Failed to check templates:",l),r.error("Failed to check template status")}finally{U.value=!1}},X=l=>Object.values(l).filter(d=>d).length,Y=async()=>{var l;T.value=!0;try{const d=await p.cloudImages.fetchLatest();d.data.updated_count>0?(((l=d.data.updated_images)==null?void 0:l.some(m=>m.status==="added"))?r.success(`Added ${d.data.updated_count} cloud image(s) to database`):r.success(`Updated ${d.data.updated_count} cloud image(s)`),await y()):r.info("All cloud images are up to date"),d.data.errors&&d.data.errors.length>0&&(console.error("Cloud image errors:",d.data.errors),r.warning(`Some images could not be updated: ${d.data.errors.length} errors`))}catch(d){console.error("Failed to fetch latest cloud images:",d),r.error("Failed to fetch latest cloud images")}finally{T.value=!1}};return le(()=>{y(),o.value.some(d=>d.download_status==="downloading")&&D()}),se(()=>{f&&clearInterval(f)}),{images:o,nodes:L,loading:t,showAddModal:I,showSetupModal:F,editingImage:a,imageForm:h,setupForm:_,saving:u,imageSelectionMode:x,settingUpTemplates:A,templateStatus:M,checkingTemplates:U,fetchingLatest:T,predefinedImages:N,fetchImages:y,downloadImage:V,saveImage:G,editImage:P,deleteImage:j,closeModal:O,setupTemplates:J,openSetupModal:Q,checkAllTemplates:W,getTemplateCount:X,fetchLatestImages:Y,selectPredefinedImage:R,formatBytes:z,formatOSType:H}}},de={class:"cloud-images-page"},ie={class:"card"},re={class:"card-header"},ce={class:"flex gap-1"},me=["disabled"],ue=["disabled"],ge={key:0,class:"template-status-section"},pe={class:"template-status-grid"},ve={class:"node-status-header"},be={class:"node-name"},fe={class:"template-count"},he={class:"template-list"},_e={class:"template-vmid"},ye={key:1,class:"loading-spinner"},we={key:2,class:"text-center text-muted"},ke={key:3,class:"table-container"},xe={class:"table"},Ce={class:"badge badge-info"},Se={key:0,class:"download-progress"},Ie={class:"progress-bar-container"},Fe={class:"text-xs text-muted"},Le={key:1,class:"badge badge-success"},Ae={key:2,class:"badge badge-danger"},Me={key:3,class:"badge badge-secondary"},Ue={class:"flex gap-1"},Te=["onClick"],qe={key:1,class:"btn btn-secondary btn-sm",disabled:""},Be=["onClick"],Oe=["onClick"],De={class:"modal-header"},Ee={class:"modal-body"},Ne={class:"form-group"},Re=["value"],Ve={class:"form-group"},Ge={class:"checkbox-list"},Pe=["value"],je={key:0,class:"alert alert-info"},ze={class:"modal-footer"},He=["disabled"],Ke=["disabled"],Je={class:"modal-header"},Qe={key:0,class:"modal-body selection-mode"},We={class:"selection-options"},Xe={key:1,class:"modal-body"},Ye={class:"mode-header"},Ze={class:"predefined-images-grid"},$e=["onClick"],eo={class:"predefined-image-icon"},oo={class:"predefined-image-info"},to={class:"predefined-image-name"},ao={class:"predefined-image-details"},lo={key:0,class:"predefined-image-check"},so={key:0,class:"selected-image-preview"},no={class:"text-xs text-muted"},io={class:"modal-footer"},ro=["disabled"],co={key:0,class:"mode-header"},mo={class:"form-group"},uo={class:"form-group"},go={class:"form-group"},po={class:"grid grid-cols-2 gap-2"},vo={class:"form-group"},bo={class:"form-group"},fo={class:"grid grid-cols-2 gap-2"},ho={class:"form-group"},_o={class:"form-group"},yo={class:"modal-footer"},wo=["disabled"];function ko(r,o,L,t,I,F){return n(),s("div",de,[e("div",ie,[e("div",re,[o[29]||(o[29]=e("h3",null,"Cloud Images",-1)),e("div",ce,[e("button",{onClick:o[0]||(o[0]=(...a)=>t.fetchLatestImages&&t.fetchLatestImages(...a)),class:"btn btn-outline",disabled:t.fetchingLatest},i(t.fetchingLatest?"ðŸ”„ Updating...":"â¬‡ï¸ Fetch Latest"),9,me),e("button",{onClick:o[1]||(o[1]=(...a)=>t.checkAllTemplates&&t.checkAllTemplates(...a)),class:"btn btn-outline",disabled:t.checkingTemplates},i(t.checkingTemplates?"ðŸ”„ Checking...":"ðŸ” Check Templates"),9,ue),e("button",{onClick:o[2]||(o[2]=(...a)=>t.openSetupModal&&t.openSetupModal(...a)),class:"btn btn-outline"},"âš™ï¸ Setup Templates"),e("button",{onClick:o[3]||(o[3]=a=>t.showAddModal=!0),class:"btn btn-primary"},"+ Add Cloud Image")])]),t.templateStatus&&Object.keys(t.templateStatus).length>0?(n(),s("div",ge,[o[30]||(o[30]=e("h4",{class:"template-status-title"},"Template Status by Node",-1)),e("div",pe,[(n(!0),s(w,null,k(t.templateStatus,a=>(n(),s("div",{key:a.node_id,class:"node-status-card"},[e("div",ve,[e("span",be,i(a.node_name),1),e("span",fe,i(t.getTemplateCount(a.templates))+" templates",1)]),e("div",he,[(n(!0),s(w,null,k(a.templates,(u,x)=>(n(),s("div",{key:x,class:"template-item"},[e("span",_e,i(x),1),e("span",{class:E(["template-badge",u?"exists":"missing"])},i(u?"âœ“ Exists":"âœ— Missing"),3)]))),128))])]))),128))])])):g("",!0),t.loading?(n(),s("div",ye)):t.images.length===0?(n(),s("div",we,[...o[31]||(o[31]=[e("p",null,"No cloud images configured yet.",-1),e("p",{class:"text-sm"},"Add cloud images for fast VM deployment.",-1)])])):(n(),s("div",ke,[e("table",xe,[o[32]||(o[32]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"OS Type"),e("th",null,"Version"),e("th",null,"Architecture"),e("th",null,"Size"),e("th",null,"Download Status"),e("th",null,"Actions")])],-1)),e("tbody",null,[(n(!0),s(w,null,k(t.images,a=>(n(),s("tr",{key:a.id},[e("td",null,i(a.name),1),e("td",null,[e("span",Ce,i(t.formatOSType(a.os_type)),1)]),e("td",null,i(a.version||"N/A"),1),e("td",null,i(a.architecture),1),e("td",null,i(a.file_size?t.formatBytes(a.file_size):"Unknown"),1),e("td",null,[a.download_status==="downloading"?(n(),s("div",Se,[e("div",Ie,[e("div",{class:"progress-bar-fill",style:ee({width:a.download_progress+"%"})},null,4)]),e("span",Fe,i(a.download_progress)+"%",1)])):a.is_downloaded?(n(),s("span",Le,"Downloaded")):a.download_status==="error"?(n(),s("span",Ae,"Error")):(n(),s("span",Me,"Not Downloaded"))]),e("td",null,[e("div",Ue,[!a.is_downloaded&&a.download_status!=="downloading"?(n(),s("button",{key:0,onClick:u=>t.downloadImage(a.id),class:"btn btn-primary btn-sm"}," Download ",8,Te)):g("",!0),a.download_status==="downloading"?(n(),s("button",qe," Downloading... ")):g("",!0),e("button",{onClick:u=>t.editImage(a),class:"btn btn-outline btn-sm"},"Edit",8,Be),e("button",{onClick:u=>t.deleteImage(a.id),class:"btn btn-danger btn-sm"},"Delete",8,Oe)])])]))),128))])])]))]),t.showSetupModal?(n(),s("div",{key:0,class:"modal",onClick:o[10]||(o[10]=a=>t.showSetupModal=!1)},[e("div",{class:"modal-content",onClick:o[9]||(o[9]=B(()=>{},["stop"]))},[e("div",De,[o[33]||(o[33]=e("h3",null,"Setup Cloud Image Templates",-1)),e("button",{onClick:o[4]||(o[4]=a=>t.showSetupModal=!1),class:"btn-close"},"Ã—")]),e("div",Ee,[o[39]||(o[39]=e("p",{class:"text-muted mb-2"},"Automatically create cloud image templates on a Proxmox node.",-1)),e("div",Ne,[o[35]||(o[35]=e("label",{class:"form-label"},"Select Proxmox Node *",-1)),b(e("select",{"onUpdate:modelValue":o[5]||(o[5]=a=>t.setupForm.selectedNodeId=a),class:"form-control",required:""},[o[34]||(o[34]=e("option",{value:""},"Choose a node...",-1)),(n(!0),s(w,null,k(t.nodes,a=>(n(),s("option",{key:a.id,value:a.id},i(a.node_name)+" ("+i(a.proxmox_host_name)+") ",9,Re))),128))],512),[[q,t.setupForm.selectedNodeId]])]),e("div",Ve,[o[36]||(o[36]=e("label",{class:"form-label"},"Select Cloud Images to Setup *",-1)),e("div",Ge,[(n(!0),s(w,null,k(t.images,a=>(n(),s("label",{key:a.id,class:"checkbox-item"},[b(e("input",{type:"checkbox",value:a.id,"onUpdate:modelValue":o[6]||(o[6]=u=>t.setupForm.selectedImageIds=u)},null,8,Pe),[[oe,t.setupForm.selectedImageIds]]),e("span",null,i(a.name)+" ("+i(a.os_type)+" "+i(a.version)+")",1)]))),128))]),o[37]||(o[37]=e("p",{class:"text-xs text-muted mt-1"},"Selected images will be created as templates 9000+",-1))]),t.settingUpTemplates?(n(),s("div",je,[...o[38]||(o[38]=[e("p",null,"Setting up templates... This may take several minutes.",-1),e("p",{class:"text-sm"},"Templates are being downloaded and configured in the background.",-1)])])):g("",!0)]),e("div",ze,[e("button",{onClick:o[7]||(o[7]=a=>t.showSetupModal=!1),class:"btn btn-outline",disabled:t.settingUpTemplates}," Cancel ",8,He),e("button",{onClick:o[8]||(o[8]=(...a)=>t.setupTemplates&&t.setupTemplates(...a)),class:"btn btn-primary",disabled:!t.setupForm.selectedNodeId||t.setupForm.selectedImageIds.length===0||t.settingUpTemplates},i(t.settingUpTemplates?"Setting Up...":"Setup Templates"),9,Ke)])])])):g("",!0),t.showAddModal?(n(),s("div",{key:1,class:"modal",onClick:o[28]||(o[28]=a=>t.showAddModal=!1)},[e("div",{class:"modal-content modal-large",onClick:o[27]||(o[27]=B(()=>{},["stop"]))},[e("div",Je,[e("h3",null,i(t.editingImage?"Edit":"Add")+" Cloud Image",1),e("button",{onClick:o[11]||(o[11]=(...a)=>t.closeModal&&t.closeModal(...a)),class:"btn-close"},"Ã—")]),!t.editingImage&&!t.imageSelectionMode?(n(),s("div",Qe,[o[42]||(o[42]=e("div",{class:"selection-prompt"},[e("h4",null,"How would you like to add a cloud image?"),e("p",{class:"text-muted"},"Choose from popular distributions or add your own custom image")],-1)),e("div",We,[e("div",{onClick:o[12]||(o[12]=a=>t.imageSelectionMode="available"),class:"selection-card"},[...o[40]||(o[40]=[e("div",{class:"selection-icon"},"ðŸ“¦",-1),e("div",{class:"selection-info"},[e("h5",null,"Select from Available"),e("p",null,"Choose from 21 cloud-ready images"),e("ul",{class:"selection-list"},[e("li",null,"Ubuntu, Debian, RHEL-based"),e("li",null,"Fedora, SUSE, Arch, Oracle"),e("li",null,"Alpine, Kali, FreeBSD, Gentoo")])],-1),e("div",{class:"selection-arrow"},"â†’",-1)])]),e("div",{onClick:o[13]||(o[13]=a=>t.imageSelectionMode="custom"),class:"selection-card"},[...o[41]||(o[41]=[e("div",{class:"selection-icon"},"âš™ï¸",-1),e("div",{class:"selection-info"},[e("h5",null,"Add Custom Image"),e("p",null,"Enter details for your own cloud image"),e("ul",{class:"selection-list"},[e("li",null,"Custom download URL"),e("li",null,"Any Linux distribution"),e("li",null,"Private or local images")])],-1),e("div",{class:"selection-arrow"},"â†’",-1)])])])])):g("",!0),!t.editingImage&&t.imageSelectionMode==="available"?(n(),s("div",Xe,[e("div",Ye,[e("button",{onClick:o[14]||(o[14]=a=>t.imageSelectionMode=null),class:"btn btn-outline btn-sm"}," â† Back to Selection "),o[43]||(o[43]=e("h4",null,"Select a Cloud Image",-1))]),e("div",Ze,[(n(!0),s(w,null,k(t.predefinedImages,a=>(n(),s("div",{key:a.name,onClick:u=>t.selectPredefinedImage(a),class:E(["predefined-image-card",{selected:t.imageForm.name===a.name}])},[e("div",eo,i(a.icon),1),e("div",oo,[e("div",to,i(a.name),1),e("div",ao,i(a.os_type)+" "+i(a.version),1)]),t.imageForm.name===a.name?(n(),s("div",lo,"âœ“")):g("",!0)],10,$e))),128))]),t.imageForm.name?(n(),s("div",so,[e("h5",null,"Selected: "+i(t.imageForm.name),1),e("p",no,i(t.imageForm.download_url),1)])):g("",!0),e("div",io,[e("button",{type:"button",onClick:o[15]||(o[15]=(...a)=>t.closeModal&&t.closeModal(...a)),class:"btn btn-outline"},"Cancel"),e("button",{type:"button",onClick:o[16]||(o[16]=(...a)=>t.saveImage&&t.saveImage(...a)),disabled:!t.imageForm.name||t.saving,class:"btn btn-primary"},i(t.saving?"Adding...":"Add Selected Image"),9,ro)])])):g("",!0),t.editingImage||t.imageSelectionMode==="custom"?(n(),s("form",{key:2,onSubmit:o[26]||(o[26]=B((...a)=>t.saveImage&&t.saveImage(...a),["prevent"])),class:"modal-body"},[t.editingImage?g("",!0):(n(),s("div",co,[e("button",{type:"button",onClick:o[17]||(o[17]=a=>t.imageSelectionMode=null),class:"btn btn-outline btn-sm"}," â† Back to Selection "),o[44]||(o[44]=e("h4",null,"Custom Cloud Image Details",-1))])),e("div",mo,[o[45]||(o[45]=e("label",{class:"form-label"},"Display Name *",-1)),b(e("input",{"onUpdate:modelValue":o[18]||(o[18]=a=>t.imageForm.name=a),class:"form-control",required:"",placeholder:"Ubuntu 24.04 LTS Cloud Image"},null,512),[[S,t.imageForm.name]])]),e("div",uo,[o[46]||(o[46]=e("label",{class:"form-label"},"Filename *",-1)),b(e("input",{"onUpdate:modelValue":o[19]||(o[19]=a=>t.imageForm.filename=a),class:"form-control",required:"",placeholder:"ubuntu-24.04-server-cloudimg-amd64.img"},null,512),[[S,t.imageForm.filename]]),o[47]||(o[47]=e("p",{class:"text-xs text-muted mt-1"},"The filename of the cloud image file",-1))]),e("div",go,[o[48]||(o[48]=e("label",{class:"form-label"},"Download URL *",-1)),b(e("input",{"onUpdate:modelValue":o[20]||(o[20]=a=>t.imageForm.download_url=a),class:"form-control",required:"",type:"url",placeholder:"https://cloud-images.ubuntu.com/..."},null,512),[[S,t.imageForm.download_url]]),o[49]||(o[49]=e("p",{class:"text-xs text-muted mt-1"},"Direct download URL for the cloud image",-1))]),e("div",po,[e("div",vo,[o[51]||(o[51]=e("label",{class:"form-label"},"OS Type *",-1)),b(e("select",{"onUpdate:modelValue":o[21]||(o[21]=a=>t.imageForm.os_type=a),class:"form-control",required:""},[...o[50]||(o[50]=[te('<option value="" data-v-34bc4fb2>Select OS</option><option value="ubuntu" data-v-34bc4fb2>Ubuntu</option><option value="debian" data-v-34bc4fb2>Debian</option><option value="centos" data-v-34bc4fb2>CentOS</option><option value="rocky" data-v-34bc4fb2>Rocky Linux</option><option value="alma" data-v-34bc4fb2>AlmaLinux</option><option value="fedora" data-v-34bc4fb2>Fedora</option><option value="opensuse" data-v-34bc4fb2>openSUSE</option><option value="other" data-v-34bc4fb2>Other</option>',9)])],512),[[q,t.imageForm.os_type]])]),e("div",bo,[o[52]||(o[52]=e("label",{class:"form-label"},"Version",-1)),b(e("input",{"onUpdate:modelValue":o[22]||(o[22]=a=>t.imageForm.version=a),class:"form-control",placeholder:"24.04"},null,512),[[S,t.imageForm.version]])])]),e("div",fo,[e("div",ho,[o[54]||(o[54]=e("label",{class:"form-label"},"Architecture",-1)),b(e("select",{"onUpdate:modelValue":o[23]||(o[23]=a=>t.imageForm.architecture=a),class:"form-control"},[...o[53]||(o[53]=[e("option",{value:"amd64"},"amd64 (x86_64)",-1),e("option",{value:"arm64"},"arm64",-1)])],512),[[q,t.imageForm.architecture]])]),e("div",_o,[o[55]||(o[55]=e("label",{class:"form-label"},"SHA256 Checksum",-1)),b(e("input",{"onUpdate:modelValue":o[24]||(o[24]=a=>t.imageForm.checksum=a),class:"form-control",placeholder:"Optional"},null,512),[[S,t.imageForm.checksum]])])]),e("div",yo,[e("button",{type:"button",onClick:o[25]||(o[25]=(...a)=>t.closeModal&&t.closeModal(...a)),class:"btn btn-outline"},"Cancel"),e("button",{type:"submit",disabled:t.saving,class:"btn btn-primary"},i(t.saving?"Saving...":t.editingImage?"Update":"Add"),9,wo)])],32)):g("",!0)])])):g("",!0)])}const Co=$(ne,[["render",ko],["__scopeId","data-v-34bc4fb2"]]);export{Co as default};
