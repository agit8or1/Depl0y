import{_ as te,c as n,o as i,a as e,d as p,F as N,p as B,t as d,m as W,w as T,e as f,v as k,A as M,B as z,n as le,x as se,r as u,j as ae,k as ne,l as g}from"./index-Cb9pSqTS.js";const ie={name:"ISOImages",setup(){const c=se(),o=u([]),I=u(!1),t=u(!1),F=u(!1),E=u(!1),l=u(0),v=u(0),h=u(0),y=u(0),D=u(!1),P=u(null),S=u([]),O=u(null);let R=null;const b=u({name:"",os_type:"",version:"",architecture:"amd64"}),U=u({url:"",name:"",os_type:"",version:"",architecture:"amd64"}),A=u([{name:"Ubuntu 24.04 LTS Server",filename:"ubuntu-24.04.3-live-server-amd64.iso",os_type:"ubuntu",version:"24.04.3",architecture:"amd64",download_url:"https://releases.ubuntu.com/24.04/ubuntu-24.04.3-live-server-amd64.iso",icon:"ðŸŸ "},{name:"Ubuntu 22.04 LTS Server",filename:"ubuntu-22.04-live-server-amd64.iso",os_type:"ubuntu",version:"22.04",architecture:"amd64",download_url:"https://releases.ubuntu.com/22.04/ubuntu-22.04.5-live-server-amd64.iso",icon:"ðŸŸ "},{name:"Ubuntu 20.04 LTS Server",filename:"ubuntu-20.04-live-server-amd64.iso",os_type:"ubuntu",version:"20.04",architecture:"amd64",download_url:"https://releases.ubuntu.com/20.04/ubuntu-20.04.6-live-server-amd64.iso",icon:"ðŸŸ "},{name:"Debian 13 (Trixie)",filename:"debian-13.2.0-amd64-netinst.iso",os_type:"debian",version:"13.2",architecture:"amd64",download_url:"https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/debian-13.2.0-amd64-netinst.iso",icon:"ðŸ”´"},{name:"Rocky Linux 9",filename:"Rocky-9-latest-x86_64-minimal.iso",os_type:"rocky",version:"9",architecture:"amd64",download_url:"https://download.rockylinux.org/pub/rocky/9/isos/x86_64/Rocky-9-latest-x86_64-minimal.iso",icon:"ðŸŸ¢"},{name:"Rocky Linux 8",filename:"Rocky-8-x86_64-minimal.iso",os_type:"rocky",version:"8",architecture:"amd64",download_url:"https://download.rockylinux.org/pub/rocky/8/isos/x86_64/Rocky-8.10-x86_64-minimal.iso",icon:"ðŸŸ¢"},{name:"AlmaLinux 9",filename:"AlmaLinux-9-latest-x86_64-minimal.iso",os_type:"alma",version:"9",architecture:"amd64",download_url:"https://repo.almalinux.org/almalinux/9/isos/x86_64/AlmaLinux-9-latest-x86_64-minimal.iso",icon:"ðŸ”µ"},{name:"AlmaLinux 8",filename:"AlmaLinux-8-x86_64-minimal.iso",os_type:"alma",version:"8",architecture:"amd64",download_url:"https://repo.almalinux.org/almalinux/8/isos/x86_64/AlmaLinux-8.10-x86_64-minimal.iso",icon:"ðŸ”µ"},{name:"Fedora Server 41",filename:"Fedora-Server-41.iso",os_type:"fedora",version:"41",architecture:"amd64",download_url:"https://download.fedoraproject.org/pub/fedora/linux/releases/41/Server/x86_64/iso/Fedora-Server-netinst-x86_64-41-1.4.iso",icon:"ðŸ”·"},{name:"CentOS Stream 9",filename:"CentOS-Stream-9.iso",os_type:"centos",version:"9",architecture:"amd64",download_url:"https://mirrors.ocf.berkeley.edu/centos-stream/9-stream/BaseOS/x86_64/iso/CentOS-Stream-9-latest-x86_64-dvd1.iso",icon:"ðŸŸ£"},{name:"openSUSE Leap 15.6",filename:"openSUSE-Leap-15.6-NET-x86_64-Media.iso",os_type:"other",version:"15.6",architecture:"amd64",download_url:"https://download.opensuse.org/distribution/leap/15.6/iso/openSUSE-Leap-15.6-NET-x86_64-Media.iso",icon:"ðŸŸ¢"},{name:"pfSense CE 2.7.2",filename:"pfSense-CE-2.7.2-RELEASE-amd64.iso",os_type:"pfsense",version:"2.7.2",architecture:"amd64",download_url:"https://repo.ialab.dsu.edu/pfsense/pfSense-CE-2.7.2-RELEASE-amd64.iso.gz",icon:"ðŸ”¥"},{name:"OPNsense 24.7",filename:"OPNsense-24.7-dvd-amd64.iso",os_type:"opnsense",version:"24.7",architecture:"amd64",download_url:"https://mirrors.dotsrc.org/opnsense/releases/24.7/OPNsense-24.7-dvd-amd64.iso.bz2",icon:"ðŸ›¡ï¸"},{name:"FreeBSD 14.2",filename:"FreeBSD-14.2-RELEASE-amd64-disc1.iso",os_type:"freebsd",version:"14.2",architecture:"amd64",download_url:"https://download.freebsd.org/releases/amd64/amd64/ISO-IMAGES/14.2/FreeBSD-14.2-RELEASE-amd64-disc1.iso",icon:"ðŸ‘¹"},{name:"TrueNAS CORE 13.0-U6.2",filename:"TrueNAS-13.0-U6.2.iso",os_type:"truenas",version:"13.0-U6.2",architecture:"amd64",download_url:"https://download-core.sys.truenas.net/13.0/STABLE/U6.2/x64/TrueNAS-13.0-U6.2.iso",icon:"ðŸ’¾"},{name:"Proxmox VE 8.3",filename:"proxmox-ve_8.3-1.iso",os_type:"proxmox",version:"8.3",architecture:"amd64",download_url:"https://www.proxmox.com/en/downloads?task=callelement&format=raw&item_id=859&element=f85c494b-2b32-4109-b8c1-083cca2b7db6&method=download",icon:"ðŸ“¦"},{name:"Untangle NG Firewall 16.3",filename:"ngfw-untangle-16.3.2-amd64.iso",os_type:"other",version:"16.3.2",architecture:"amd64",download_url:"https://downloads.untangle.com/public/current-release/NGFW/ngfw-untangle-16.3.2-amd64.iso",icon:"ðŸ›¡ï¸"},{name:"Alpine Linux 3.21",filename:"alpine-virt-3.21.0-x86_64.iso",os_type:"other",version:"3.21.0",architecture:"amd64",download_url:"https://dl-cdn.alpinelinux.org/alpine/v3.21/releases/x86_64/alpine-virt-3.21.0-x86_64.iso",icon:"â›°ï¸"},{name:"Zentyal Server 8.0",filename:"zentyal-8.0-development-amd64.iso",os_type:"other",version:"8.0",architecture:"amd64",download_url:"https://download.zentyal.com/zentyal-8.0-development-amd64.iso",icon:"ðŸ¢"}]),q=ae(()=>[...A.value].sort((s,a)=>s.name.localeCompare(a.name))),G=s=>{const a=S.value.indexOf(s.name);a>-1?S.value.splice(a,1):S.value.push(s.name)},j=s=>S.value.includes(s),H=()=>A.value.filter(s=>S.value.includes(s.name)),x=async()=>{I.value=!0;try{const s=await g.isos.list();o.value=s.data.sort((a,r)=>a.name.localeCompare(r.name))}catch(s){console.error("Failed to fetch ISOs:",s)}finally{I.value=!1}},X=s=>{const a=s.target.files[0];a&&(O.value=a,b.value.name||(b.value.name=a.name.replace(".iso","")))},Z=()=>{if(S.value.length===0){c.error("Please select at least one ISO");return}const s=H(),a=s.length;s.forEach(r=>{g.isos.downloadFromUrl({url:r.download_url,name:r.name,os_type:r.os_type,version:r.version,architecture:r.architecture}).catch(w=>{console.error(`Failed to queue ${r.name}:`,w)})}),c.success(`Queued ${a} ISO${a>1?"s":""} for download`),C(),setTimeout(()=>x(),1500)},K=async()=>{if(O.value){t.value=!0,l.value=0,R=Date.now();try{const s=new FormData;s.append("file",O.value),s.append("name",b.value.name),s.append("os_type",b.value.os_type),s.append("version",b.value.version),s.append("architecture",b.value.architecture);const a=m=>{if(m.total){const _=Math.round(m.loaded*50/m.total);l.value=_,v.value=m.loaded,h.value=m.total;const V=(Date.now()-R)/1e3;V>0&&(y.value=m.loaded/V)}},w=(await g.isos.upload(s,a)).data.id;c.info("Upload complete, processing file...",{timeout:2e3});let L=!1;for(;!L;){await new Promise(m=>setTimeout(m,500));try{const _=(await g.isos.getProgress(w)).data;if(_.status==="completed")l.value=100,L=!0,c.success("ISO uploaded and processed successfully");else{if(_.status==="error")throw new Error(_.message||"Processing failed");l.value=50+Math.round(_.progress/2)}}catch(m){console.warn("Failed to get progress, assuming complete:",m),L=!0,l.value=100}}await new Promise(m=>setTimeout(m,500)),C(),await x()}catch(s){console.error("Failed to upload ISO:",s),c.error("Failed to upload ISO: "+(s.message||"Unknown error"))}finally{t.value=!1,l.value=0,v.value=0,h.value=0,y.value=0}}},Q=async s=>{const a=c.info("Checking ISO checksum...",{timeout:!1});try{const r=await g.isos.verify(s);c.dismiss(a),r.data.status==="valid"?c.success("ISO checksum is valid"):c.error("ISO checksum verification failed")}catch(r){c.dismiss(a),console.error("Failed to verify ISO:",r)}},J=async s=>{if(confirm("Are you sure you want to delete this ISO image?"))try{await g.isos.delete(s),c.success("ISO deleted successfully"),await x()}catch(a){console.error("Failed to delete ISO:",a)}},Y=s=>({ubuntu:"Ubuntu",debian:"Debian",centos:"CentOS",rocky:"Rocky Linux",alma:"AlmaLinux",windows_server_2019:"Windows Server 2019",windows_server_2022:"Windows Server 2022",windows_10:"Windows 10",windows_11:"Windows 11"})[s]||s,$=s=>{if(!s)return"0 B";const a=["B","KB","MB","GB","TB"],r=Math.floor(Math.log(s)/Math.log(1024));return Math.round(s/Math.pow(1024,r)*100)/100+" "+a[r]},ee=()=>{if(y.value===0||v.value===0)return"Calculating...";const a=(h.value-v.value)/y.value;if(a<60)return Math.ceil(a)+"s";if(a<3600){const r=Math.floor(a/60),w=Math.ceil(a%60);return`${r}m ${w}s`}else{const r=Math.floor(a/3600),w=Math.ceil(a%3600/60);return`${r}h ${w}m`}},oe=async()=>{F.value=!0;try{await g.isos.downloadFromUrl(U.value),c.success("ISO download started successfully"),C(),await x()}catch(s){console.error("Failed to download ISO:",s),c.error("Failed to download ISO")}finally{F.value=!1}},C=()=>{D.value=!1,P.value=null,S.value=[],b.value={name:"",os_type:"",version:"",architecture:"amd64"},U.value={url:"",name:"",os_type:"",version:"",architecture:"amd64"},O.value=null,v.value=0,h.value=0,y.value=0};return ne(()=>{x()}),{isos:o,loading:I,uploading:t,downloading:F,saving:E,uploadProgress:l,uploadedBytes:v,totalBytes:h,uploadSpeed:y,showAddModal:D,isoSelectionMode:P,selectedISONames:S,selectedFile:O,uploadForm:b,downloadForm:U,predefinedISOs:A,sortedPredefinedISOs:q,onFileSelected:X,uploadISO:K,downloadFromUrl:oe,saveSelectedISOs:Z,toggleISOSelection:G,isISOSelected:j,verifyISO:Q,deleteISO:J,closeModal:C,formatOSType:Y,formatBytes:$,formatTimeRemaining:ee}}},de={class:"iso-images-page"},re={class:"card"},ue={class:"card-header"},ce={class:"flex gap-1"},me={key:0,class:"loading-spinner"},pe={key:1,class:"text-center text-muted"},ve={key:2,class:"table-container"},fe={class:"table"},Se={class:"badge badge-info"},be={class:"text-xs text-muted"},we={key:0,class:"text-blue-500"},ge={key:1,class:"text-yellow-500"},ye={key:2,class:"text-red-500"},_e={key:3},he={key:0,class:"badge badge-info"},Oe={key:1,class:"badge badge-warning"},xe={class:"flex gap-1"},ke=["onClick"],Ie=["onClick"],Fe={class:"modal-header"},Ce={key:0,class:"modal-body selection-mode"},Me={class:"selection-options"},Ue={key:1,class:"modal-body"},Ae={class:"mode-header"},Le={key:0,class:"selection-count"},Ne={class:"predefined-images-grid"},Be=["onClick"],Te={class:"predefined-image-icon"},Ee={class:"predefined-image-info"},De={class:"predefined-image-name"},Pe={class:"predefined-image-details"},Re={key:0,class:"predefined-image-check"},Ve={key:0,class:"selected-images-preview"},We={class:"selected-images-list"},ze={class:"modal-footer"},qe=["disabled"],Ge={class:"mode-header"},je={class:"form-group"},He={key:0,class:"text-sm text-muted mt-1"},Xe={class:"form-group"},Ze={class:"form-group"},Ke={class:"grid grid-cols-2 gap-2"},Qe={class:"form-group"},Je={class:"form-group"},Ye={key:0,class:"upload-progress"},$e={class:"upload-stats"},eo={class:"stat-row"},oo={class:"stat-value"},to={class:"stat-row"},lo={class:"stat-value"},so={key:0,class:"stat-row"},ao={class:"stat-value"},no={key:1,class:"stat-row"},io={class:"stat-value"},ro={class:"progress-bar"},uo={class:"modal-footer"},co=["disabled"],mo=["disabled"],po={class:"mode-header"},vo={class:"form-group"},fo={class:"form-group"},So={class:"form-group"},bo={class:"grid grid-cols-2 gap-2"},wo={class:"form-group"},go={class:"form-group"},yo={key:0,class:"upload-progress"},_o={class:"modal-footer"},ho=["disabled"],Oo=["disabled"];function xo(c,o,I,t,F,E){return i(),n("div",de,[e("div",re,[e("div",ue,[o[26]||(o[26]=e("h3",null,"ISO Images",-1)),e("div",ce,[e("button",{onClick:o[0]||(o[0]=l=>t.showAddModal=!0),class:"btn btn-primary"},"+ Add ISO")])]),t.loading?(i(),n("div",me)):t.isos.length===0?(i(),n("div",pe,[...o[27]||(o[27]=[e("p",null,"No ISO images uploaded yet.",-1),e("p",{class:"text-sm"},"Upload ISOs to deploy VMs.",-1)])])):(i(),n("div",ve,[e("table",fe,[o[28]||(o[28]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"OS Type"),e("th",null,"Version"),e("th",null,"Architecture"),e("th",null,"Size"),e("th",null,"Checksum"),e("th",null,"Status"),e("th",null,"Actions")])],-1)),e("tbody",null,[(i(!0),n(N,null,B(t.isos,l=>(i(),n("tr",{key:l.id},[e("td",null,d(l.name),1),e("td",null,[e("span",Se,d(t.formatOSType(l.os_type)),1)]),e("td",null,d(l.version||"N/A"),1),e("td",null,d(l.architecture),1),e("td",null,d(t.formatBytes(l.file_size)),1),e("td",be,[l.checksum==="downloading..."?(i(),n("span",we," â³ Downloading... ")):l.checksum==="calculating..."?(i(),n("span",ge," âš™ï¸ Calculating checksum... ")):l.checksum==="error"?(i(),n("span",ye," âŒ Error ")):(i(),n("span",_e,d(l.checksum?l.checksum.substring(0,16)+"...":"N/A"),1))]),e("td",null,[l.checksum==="downloading..."?(i(),n("span",he," Downloading ")):l.checksum==="calculating..."?(i(),n("span",Oe," Processing ")):(i(),n("span",{key:2,class:W(["badge",l.is_available?"badge-success":"badge-danger"])},d(l.is_available?"Available":"Unavailable"),3))]),e("td",null,[e("div",xe,[e("button",{onClick:v=>t.verifyISO(l.id),class:"btn btn-outline btn-sm"},"Verify",8,ke),e("button",{onClick:v=>t.deleteISO(l.id),class:"btn btn-danger btn-sm"},"Delete",8,Ie)])])]))),128))])])]))]),t.showAddModal?(i(),n("div",{key:0,class:"modal",onClick:o[25]||(o[25]=l=>t.showAddModal=!1)},[e("div",{class:"modal-content modal-large",onClick:o[24]||(o[24]=T(()=>{},["stop"]))},[e("div",Fe,[o[29]||(o[29]=e("h3",null,"Add ISO Image",-1)),e("button",{onClick:o[1]||(o[1]=(...l)=>t.closeModal&&t.closeModal(...l)),class:"btn-close"},"Ã—")]),t.isoSelectionMode?p("",!0):(i(),n("div",Ce,[o[33]||(o[33]=e("div",{class:"selection-prompt"},[e("h4",null,"How would you like to add an ISO image?"),e("p",{class:"text-muted"},"Choose from popular ISOs, upload from your computer, or download from a URL")],-1)),e("div",Me,[e("div",{onClick:o[2]||(o[2]=l=>t.isoSelectionMode="available"),class:"selection-card"},[...o[30]||(o[30]=[e("div",{class:"selection-icon"},"ðŸ’¿",-1),e("div",{class:"selection-info"},[e("h5",null,"Select from Available"),e("p",null,"Choose from 19 verified ISOs"),e("ul",{class:"selection-list"},[e("li",null,"Ubuntu, Debian, RHEL-based"),e("li",null,"pfSense, OPNsense, TrueNAS"),e("li",null,"Proxmox, Untangle, Zentyal")])],-1),e("div",{class:"selection-arrow"},"â†’",-1)])]),e("div",{onClick:o[3]||(o[3]=l=>t.isoSelectionMode="upload"),class:"selection-card"},[...o[31]||(o[31]=[e("div",{class:"selection-icon"},"â¬†ï¸",-1),e("div",{class:"selection-info"},[e("h5",null,"Upload from Computer"),e("p",null,"Upload an ISO file from your device"),e("ul",{class:"selection-list"},[e("li",null,"Any ISO file"),e("li",null,"Custom distributions"),e("li",null,"Local files")])],-1),e("div",{class:"selection-arrow"},"â†’",-1)])]),e("div",{onClick:o[4]||(o[4]=l=>t.isoSelectionMode="download"),class:"selection-card"},[...o[32]||(o[32]=[e("div",{class:"selection-icon"},"â¬‡ï¸",-1),e("div",{class:"selection-info"},[e("h5",null,"Download from URL"),e("p",null,"Provide a direct download link"),e("ul",{class:"selection-list"},[e("li",null,"Direct ISO URLs"),e("li",null,"Mirror servers"),e("li",null,"Custom sources")])],-1),e("div",{class:"selection-arrow"},"â†’",-1)])])])])),t.isoSelectionMode==="available"?(i(),n("div",Ue,[e("div",Ae,[e("button",{onClick:o[5]||(o[5]=l=>t.isoSelectionMode=null),class:"btn btn-outline btn-sm"}," â† Back to Selection "),o[34]||(o[34]=e("h4",null,"Select ISO Images",-1)),t.selectedISONames.length>0?(i(),n("span",Le,d(t.selectedISONames.length)+" selected ",1)):p("",!0)]),o[35]||(o[35]=e("p",{class:"text-muted text-sm mb-2"},"Click on ISOs to select multiple. Selected ISOs will be downloaded to your library.",-1)),e("div",Ne,[(i(!0),n(N,null,B(t.sortedPredefinedISOs,l=>(i(),n("div",{key:l.name,onClick:v=>t.toggleISOSelection(l),class:W(["predefined-image-card",{selected:t.isISOSelected(l.name)}])},[e("div",Te,d(l.icon),1),e("div",Ee,[e("div",De,d(l.name),1),e("div",Pe,d(t.formatOSType(l.os_type))+" "+d(l.version),1)]),t.isISOSelected(l.name)?(i(),n("div",Re,"âœ“")):p("",!0)],10,Be))),128))]),t.selectedISONames.length>0?(i(),n("div",Ve,[e("h5",null,"Selected ISOs ("+d(t.selectedISONames.length)+"):",1),e("div",We,[(i(!0),n(N,null,B(t.selectedISONames,l=>(i(),n("span",{key:l,class:"selected-image-chip"},d(l),1))),128))])])):p("",!0),e("div",ze,[e("button",{type:"button",onClick:o[6]||(o[6]=(...l)=>t.closeModal&&t.closeModal(...l)),class:"btn btn-outline"},"Cancel"),e("button",{type:"button",onClick:o[7]||(o[7]=(...l)=>t.saveSelectedISOs&&t.saveSelectedISOs(...l)),disabled:t.selectedISONames.length===0,class:"btn btn-primary"},d(`Add ${t.selectedISONames.length} ISO${t.selectedISONames.length!==1?"s":""}`),9,qe)])])):p("",!0),t.isoSelectionMode==="upload"?(i(),n("form",{key:2,onSubmit:o[15]||(o[15]=T((...l)=>t.uploadISO&&t.uploadISO(...l),["prevent"])),class:"modal-body"},[e("div",Ge,[e("button",{type:"button",onClick:o[8]||(o[8]=l=>t.isoSelectionMode=null),class:"btn btn-outline btn-sm"}," â† Back to Selection "),o[36]||(o[36]=e("h4",null,"Upload ISO from Computer",-1))]),e("div",je,[o[37]||(o[37]=e("label",{class:"form-label"},"ISO File *",-1)),e("input",{type:"file",onChange:o[9]||(o[9]=(...l)=>t.onFileSelected&&t.onFileSelected(...l)),accept:".iso",class:"form-control",required:""},null,32),t.selectedFile?(i(),n("p",He," Selected: "+d(t.selectedFile.name)+" ("+d(t.formatBytes(t.selectedFile.size))+") ",1)):p("",!0)]),e("div",Xe,[o[38]||(o[38]=e("label",{class:"form-label"},"Display Name *",-1)),f(e("input",{"onUpdate:modelValue":o[10]||(o[10]=l=>t.uploadForm.name=l),class:"form-control",required:""},null,512),[[k,t.uploadForm.name]])]),e("div",Ze,[o[40]||(o[40]=e("label",{class:"form-label"},"OS Type *",-1)),f(e("select",{"onUpdate:modelValue":o[11]||(o[11]=l=>t.uploadForm.os_type=l),class:"form-control",required:""},[...o[39]||(o[39]=[z('<option value="" data-v-3f07985f>Select OS</option><optgroup label="Linux Server" data-v-3f07985f><option value="ubuntu" data-v-3f07985f>Ubuntu Server</option><option value="debian" data-v-3f07985f>Debian</option><option value="centos" data-v-3f07985f>CentOS</option><option value="rocky" data-v-3f07985f>Rocky Linux</option><option value="alma" data-v-3f07985f>AlmaLinux</option><option value="fedora" data-v-3f07985f>Fedora Server</option><option value="opensuse" data-v-3f07985f>openSUSE</option></optgroup><optgroup label="Windows" data-v-3f07985f><option value="windows_server_2019" data-v-3f07985f>Windows Server 2019</option><option value="windows_server_2022" data-v-3f07985f>Windows Server 2022</option><option value="windows_10" data-v-3f07985f>Windows 10</option><option value="windows_11" data-v-3f07985f>Windows 11</option></optgroup><optgroup label="Firewall / Network" data-v-3f07985f><option value="pfsense" data-v-3f07985f>pfSense</option><option value="opnsense" data-v-3f07985f>OPNsense</option><option value="sophos" data-v-3f07985f>Sophos Firewall</option><option value="fortinet" data-v-3f07985f>FortiGate</option><option value="vyos" data-v-3f07985f>VyOS</option></optgroup><optgroup label="Other" data-v-3f07985f><option value="freebsd" data-v-3f07985f>FreeBSD</option><option value="truenas" data-v-3f07985f>TrueNAS</option><option value="proxmox" data-v-3f07985f>Proxmox VE</option><option value="esxi" data-v-3f07985f>VMware ESXi</option><option value="other" data-v-3f07985f>Other / Custom</option></optgroup>',5)])],512),[[M,t.uploadForm.os_type]])]),e("div",Ke,[e("div",Qe,[o[41]||(o[41]=e("label",{class:"form-label"},"Version",-1)),f(e("input",{"onUpdate:modelValue":o[12]||(o[12]=l=>t.uploadForm.version=l),class:"form-control",placeholder:"22.04"},null,512),[[k,t.uploadForm.version]])]),e("div",Je,[o[43]||(o[43]=e("label",{class:"form-label"},"Architecture",-1)),f(e("select",{"onUpdate:modelValue":o[13]||(o[13]=l=>t.uploadForm.architecture=l),class:"form-control"},[...o[42]||(o[42]=[e("option",{value:"amd64"},"amd64 (x86_64)",-1),e("option",{value:"arm64"},"arm64",-1)])],512),[[M,t.uploadForm.architecture]])])]),t.uploading?(i(),n("div",Ye,[e("div",$e,[e("div",eo,[o[44]||(o[44]=e("span",{class:"stat-label"},"Progress:",-1)),e("span",oo,d(t.uploadProgress)+"%",1)]),e("div",to,[o[45]||(o[45]=e("span",{class:"stat-label"},"Transferred:",-1)),e("span",lo,d(t.formatBytes(t.uploadedBytes))+" / "+d(t.formatBytes(t.totalBytes)),1)]),t.uploadSpeed>0?(i(),n("div",so,[o[46]||(o[46]=e("span",{class:"stat-label"},"Speed:",-1)),e("span",ao,d(t.formatBytes(t.uploadSpeed))+"/s",1)])):p("",!0),t.uploadSpeed>0&&t.uploadProgress<100?(i(),n("div",no,[o[47]||(o[47]=e("span",{class:"stat-label"},"Time remaining:",-1)),e("span",io,d(t.formatTimeRemaining()),1)])):p("",!0)]),e("div",ro,[e("div",{class:"progress-fill",style:le({width:t.uploadProgress+"%"})},null,4)])])):p("",!0),e("div",uo,[e("button",{type:"button",onClick:o[14]||(o[14]=(...l)=>t.closeModal&&t.closeModal(...l)),class:"btn btn-outline",disabled:t.uploading},"Cancel",8,co),e("button",{type:"submit",class:"btn btn-primary",disabled:t.uploading||!t.selectedFile},d(t.uploading?"Uploading...":"Upload ISO"),9,mo)])],32)):p("",!0),t.isoSelectionMode==="download"?(i(),n("form",{key:3,onSubmit:o[23]||(o[23]=T((...l)=>t.downloadFromUrl&&t.downloadFromUrl(...l),["prevent"])),class:"modal-body"},[e("div",po,[e("button",{type:"button",onClick:o[16]||(o[16]=l=>t.isoSelectionMode=null),class:"btn btn-outline btn-sm"}," â† Back to Selection "),o[48]||(o[48]=e("h4",null,"Download ISO from URL",-1))]),e("div",vo,[o[49]||(o[49]=e("label",{class:"form-label"},"ISO URL *",-1)),f(e("input",{"onUpdate:modelValue":o[17]||(o[17]=l=>t.downloadForm.url=l),type:"url",class:"form-control",placeholder:"https://example.com/path/to/image.iso",required:""},null,512),[[k,t.downloadForm.url]]),o[50]||(o[50]=e("p",{class:"text-xs text-muted mt-1"},"Direct link to the ISO file",-1))]),e("div",fo,[o[51]||(o[51]=e("label",{class:"form-label"},"Display Name *",-1)),f(e("input",{"onUpdate:modelValue":o[18]||(o[18]=l=>t.downloadForm.name=l),class:"form-control",required:""},null,512),[[k,t.downloadForm.name]])]),e("div",So,[o[53]||(o[53]=e("label",{class:"form-label"},"OS Type *",-1)),f(e("select",{"onUpdate:modelValue":o[19]||(o[19]=l=>t.downloadForm.os_type=l),class:"form-control",required:""},[...o[52]||(o[52]=[z('<option value="" data-v-3f07985f>Select OS</option><optgroup label="Linux Server" data-v-3f07985f><option value="ubuntu" data-v-3f07985f>Ubuntu Server</option><option value="debian" data-v-3f07985f>Debian</option><option value="centos" data-v-3f07985f>CentOS</option><option value="rocky" data-v-3f07985f>Rocky Linux</option><option value="alma" data-v-3f07985f>AlmaLinux</option><option value="fedora" data-v-3f07985f>Fedora Server</option><option value="opensuse" data-v-3f07985f>openSUSE</option></optgroup><optgroup label="Windows" data-v-3f07985f><option value="windows_server_2019" data-v-3f07985f>Windows Server 2019</option><option value="windows_server_2022" data-v-3f07985f>Windows Server 2022</option><option value="windows_10" data-v-3f07985f>Windows 10</option><option value="windows_11" data-v-3f07985f>Windows 11</option></optgroup><optgroup label="Firewall / Network" data-v-3f07985f><option value="pfsense" data-v-3f07985f>pfSense</option><option value="opnsense" data-v-3f07985f>OPNsense</option><option value="sophos" data-v-3f07985f>Sophos Firewall</option><option value="fortinet" data-v-3f07985f>FortiGate</option><option value="vyos" data-v-3f07985f>VyOS</option></optgroup><optgroup label="Other" data-v-3f07985f><option value="freebsd" data-v-3f07985f>FreeBSD</option><option value="truenas" data-v-3f07985f>TrueNAS</option><option value="proxmox" data-v-3f07985f>Proxmox VE</option><option value="esxi" data-v-3f07985f>VMware ESXi</option><option value="other" data-v-3f07985f>Other / Custom</option></optgroup>',5)])],512),[[M,t.downloadForm.os_type]])]),e("div",bo,[e("div",wo,[o[54]||(o[54]=e("label",{class:"form-label"},"Version",-1)),f(e("input",{"onUpdate:modelValue":o[20]||(o[20]=l=>t.downloadForm.version=l),class:"form-control",placeholder:"22.04"},null,512),[[k,t.downloadForm.version]])]),e("div",go,[o[56]||(o[56]=e("label",{class:"form-label"},"Architecture",-1)),f(e("select",{"onUpdate:modelValue":o[21]||(o[21]=l=>t.downloadForm.architecture=l),class:"form-control"},[...o[55]||(o[55]=[e("option",{value:"amd64"},"amd64 (x86_64)",-1),e("option",{value:"arm64"},"arm64",-1)])],512),[[M,t.downloadForm.architecture]])])]),t.downloading?(i(),n("div",yo,[...o[57]||(o[57]=[e("p",{class:"text-center text-muted"},"Downloading ISO from URL...",-1),e("div",{class:"loading-spinner"},null,-1)])])):p("",!0),e("div",_o,[e("button",{type:"button",onClick:o[22]||(o[22]=(...l)=>t.closeModal&&t.closeModal(...l)),class:"btn btn-outline",disabled:t.downloading},"Cancel",8,ho),e("button",{type:"submit",class:"btn btn-primary",disabled:t.downloading},d(t.downloading?"Downloading...":"Download ISO"),9,Oo)])],32)):p("",!0)])])):p("",!0)])}const Io=te(ie,[["render",xo],["__scopeId","data-v-3f07985f"]]);export{Io as default};
