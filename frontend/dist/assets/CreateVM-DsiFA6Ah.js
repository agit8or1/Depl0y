import{_ as yo,g as _o,c as d,o as n,a as e,z as wo,w as ko,d as c,e as r,v,A as _,B as h,C as X,F as w,p as M,t as u,b as g,m as k,n as R,D as B,E as D,h as Do,i as So,T as xo,u as Co,x as Vo,r as p,j as O,y as Uo,k as Mo,l as S}from"./index-DfpBk_Xb.js";const Io={name:"CreateVM",setup(){const z=Co(),o=Vo(),E=p([]),t=p([]),L=p([]),H=p([]),x=p("iso"),s=p([]),b=p([]),W=p(""),C=p(""),V=p(""),Y=p(null),F=p(!1),G=p(!1),T=p(!1),q=p(!1),A=p(!0),N=p(!1),Q=p(!1),K=p(!1),j=p(!1),J=p(!1),P=p({name:"",status:"creating",status_message:"",error_message:"",vmid:null});let U=null;const Z=O(()=>[...s.value].filter(l=>l.content&&l.content.includes("images")).sort((l,i)=>l.storage.localeCompare(i.storage,void 0,{numeric:!0,sensitivity:"base"}))),$=O(()=>[...s.value].filter(l=>l.content&&l.content.includes("iso")).sort((l,i)=>l.storage.localeCompare(i.storage,void 0,{numeric:!0,sensitivity:"base"}))),oo=O(()=>[...b.value].sort((l,i)=>l.iface.localeCompare(i.iface,void 0,{numeric:!0,sensitivity:"base"}))),a=p({name:"",hostname:"",proxmox_host_id:null,node_id:null,iso_id:null,cloud_image_id:null,os_type:"",cpu_sockets:1,cpu_cores:2,cpu_type:"x86-64-v2-AES",cpu_flags:"",cpu_limit:null,cpu_units:1024,numa_enabled:!1,memory:2048,balloon:null,shares:null,disk_size:20,storage:"",iso_storage:"",scsihw:"virtio-scsi-pci",bios_type:"seabios",machine_type:"pc",vga_type:"std",boot_order:"cdn",onboot:!0,tablet:!0,hotplug:null,protection:!1,startup_order:null,startup_up:null,startup_down:null,kvm:!0,acpi:!0,agent_enabled:!0,network_bridge:"",network_interfaces:[],vlan_tag:null,ip_address:"",gateway:"",netmask:"24",dns_servers:"8.8.8.8,8.8.4.4",username:"administrator",password:"",ssh_key:"",description:"",tags:""}),eo=async()=>{try{const l=await S.proxmox.listHosts();E.value=l.data.filter(i=>i.is_active)}catch(l){console.error("Failed to load hosts:",l)}},so=async l=>{W.value=l,a.value.proxmox_host_id=l,a.value.node_id=null,t.value=[],s.value=[],b.value=[],C.value="",V.value="",F.value=!0;try{const i=await S.proxmox.listNodes(l);t.value=i.data}catch(i){console.error("Failed to load nodes:",i),o.error("Failed to load nodes. Try polling the host first.")}finally{F.value=!1}},to=async l=>{a.value.node_id=l,C.value="",V.value="",a.value.storage="",a.value.iso_storage="",await Promise.all([ao(l),lo(l)])},ao=async l=>{console.log("[DEBUG] loadStorage START, nodeId:",l),G.value=!0,console.log("[DEBUG] loadingStorage set to true");try{console.log("[DEBUG] Calling API...");const i=await S.proxmox.getNodeStorage(l);if(console.log("[DEBUG] API response received:",i.data),console.log("[DEBUG] Setting storageList.value..."),s.value=i.data.storage||[],console.log("[DEBUG] storageList.value set, length:",s.value.length),s.value.length>0){const m=s.value.find(y=>y.enabled&&y.active)||s.value[0];C.value=m.storage,a.value.storage=m.storage,console.log("[DEBUG] Auto-selected storage:",m.storage)}const f=i.data.storage.filter(m=>m.content&&m.content.includes("iso")&&m.enabled&&m.active).sort((m,y)=>m.storage.localeCompare(y.storage,void 0,{numeric:!0,sensitivity:"base"}));f.length>0&&(a.value.iso_storage=f[0].storage,console.log("[DEBUG] Auto-selected ISO storage:",f[0].storage)),console.log("[DEBUG] loadStorage completing successfully")}catch(i){console.error("[DEBUG] loadStorage ERROR:",i),console.error("Failed to load storage:",i),o.error("Failed to load storage pools")}finally{console.log("[DEBUG] loadStorage FINALLY block, setting loadingStorage to false"),G.value=!1,console.log("[DEBUG] loadStorage END")}},lo=async l=>{T.value=!0;try{const i=await S.proxmox.getNodeNetwork(l);if(b.value=i.data.network.sort((f,m)=>f.iface.localeCompare(m.iface,void 0,{numeric:!0,sensitivity:"base"})),b.value.length>0){const f=b.value.find(m=>m.active)||b.value[0];V.value=f.iface,a.value.network_bridge=f.iface}}catch(i){console.error("Failed to load network:",i),o.error("Failed to load network interfaces")}finally{T.value=!1}},ro=l=>{const i=s.value.find(f=>f.storage===l);i&&i.enabled&&i.active&&(C.value=l,a.value.storage=l)},no=l=>{const i=b.value.find(f=>f.iface===l);i&&i.active&&(V.value=l,a.value.network_bridge=l)},io=l=>!l.total||l.total===0?0:Math.round(l.used/l.total*100),uo=async()=>{try{const l=await S.isos.list();L.value=l.data}catch(l){console.error("Failed to load ISOs:",l)}},mo=async()=>{try{const l=await S.cloudImages.list();H.value=l.data}catch(l){console.error("Failed to load cloud images:",l)}},vo=async l=>{try{const i=await S.vms.getProgress(l);console.log("Progress update received:",i.data),P.value=i.data,(i.data.status==="running"||i.data.status==="stopped"||i.data.status==="error")&&(console.log("VM deployment finished with status:",i.data.status),U&&(clearInterval(U),U=null))}catch(i){console.error("Failed to poll progress:",i)}},po=()=>{N.value=!1,U&&(clearInterval(U),U=null),P.value.status==="running"&&z.push("/vms")},co=()=>{const l=[];return(!a.value.name||a.value.name.trim()==="")&&l.push("VM name is required"),(!a.value.hostname||a.value.hostname.trim()==="")&&l.push("Hostname is required"),a.value.os_type||l.push("Operating system must be selected"),a.value.proxmox_host_id||l.push("Proxmox datacenter must be selected"),a.value.node_id||l.push("Node must be selected"),C.value||l.push("Storage pool must be selected"),V.value||l.push("Network bridge must be selected"),x.value==="iso"&&a.value.iso_id===null?a.value.cloud_image_id:x.value==="cloud_image"&&!a.value.cloud_image_id&&l.push("Cloud image must be selected"),(!a.value.cpu_cores||a.value.cpu_cores<1)&&l.push("CPU cores must be at least 1"),(!a.value.memory||a.value.memory<512)&&l.push("Memory must be at least 512 MB"),(!a.value.disk_size||a.value.disk_size<10)&&l.push("Disk size must be at least 10 GB"),(!a.value.username||a.value.username.trim()==="")&&l.push("Username is required"),(!a.value.password||a.value.password.trim()==="")&&l.push("Password is required"),A.value||((!a.value.ip_address||a.value.ip_address.trim()==="")&&l.push("IP address is required when not using DHCP"),(!a.value.gateway||a.value.gateway.trim()==="")&&l.push("Gateway is required when not using DHCP")),l},go=async()=>{var i,f;const l=co();if(l.length>0){l.forEach(m=>{o.error(m)});return}q.value=!0;try{const m={name:a.value.name,hostname:a.value.hostname,proxmox_host_id:a.value.proxmox_host_id,node_id:a.value.node_id,iso_id:x.value==="iso"?a.value.iso_id:null,cloud_image_id:x.value==="cloud_image"?a.value.cloud_image_id:null,os_type:a.value.os_type,cpu_sockets:a.value.cpu_sockets,cpu_cores:a.value.cpu_cores,cpu_type:a.value.cpu_type||"host",cpu_flags:a.value.cpu_flags||null,cpu_limit:a.value.cpu_limit||null,cpu_units:a.value.cpu_units||1024,numa_enabled:a.value.numa_enabled||!1,memory:a.value.memory,balloon:a.value.balloon||null,shares:a.value.shares||null,disk_size:a.value.disk_size,storage:C.value||null,iso_storage:a.value.iso_storage||null,scsihw:a.value.scsihw||"virtio-scsi-pci",bios_type:a.value.bios_type||"seabios",machine_type:a.value.machine_type||"pc",vga_type:a.value.vga_type||"std",boot_order:a.value.boot_order||"cdn",onboot:a.value.onboot!==void 0?a.value.onboot:!0,tablet:a.value.tablet!==void 0?a.value.tablet:!0,hotplug:a.value.hotplug||null,protection:a.value.protection||!1,startup_order:a.value.startup_order||null,startup_up:a.value.startup_up||null,startup_down:a.value.startup_down||null,kvm:a.value.kvm!==void 0?a.value.kvm:!0,acpi:a.value.acpi!==void 0?a.value.acpi:!0,agent_enabled:a.value.agent_enabled!==void 0?a.value.agent_enabled:!0,network_bridge:V.value||null,network_interfaces:a.value.network_interfaces||null,username:a.value.username,password:a.value.password,ssh_key:a.value.ssh_key||null,description:a.value.description||null,tags:a.value.tags||null};A.value?(m.ip_address=null,m.gateway=null,m.netmask=null,m.dns_servers=null):(m.ip_address=a.value.ip_address||null,m.gateway=a.value.gateway||null,m.netmask=a.value.netmask||null,m.dns_servers=a.value.dns_servers||null),console.log("Creating VM with payload:",JSON.stringify(m,null,2));const y=await S.vms.create(m);console.log("VM created successfully, response:",y.data),console.log("Setting showProgressModal to true"),N.value=!0,P.value={name:a.value.name,status:"creating",status_message:"Initializing VM deployment...",error_message:"",vmid:null},console.log("Progress modal should be visible now, showProgressModal:",N.value);const I=y.data.id;console.log("Starting progress polling for VM ID:",I),U=setInterval(()=>{vo(I)},1e3),o.success("VM creation started!")}catch(m){if(console.error("Failed to create VM:",m),(f=(i=m.response)==null?void 0:i.data)!=null&&f.detail)if(Array.isArray(m.response.data.detail)){const y=m.response.data.detail.map(I=>`${I.loc[I.loc.length-1]}: ${I.msg}`).join(", ");o.error(`Validation error: ${y}`)}else o.error(`Error: ${m.response.data.detail}`);else o.error("Failed to create VM. Check the form and try again.")}finally{q.value=!1}},fo=l=>l?(l/(1024*1024*1024)).toFixed(2)+" GB":"0 B";Uo(A,l=>{l&&(a.value.ip_address="",a.value.gateway="",a.value.netmask="24",a.value.dns_servers="8.8.8.8,8.8.4.4")});const bo=O(()=>{const i=(P.value.status_message||"").match(/(\d+)%/);return i?parseInt(i[1]):0});return Mo(()=>{eo(),uo(),mo()}),{hosts:E,nodes:t,isos:L,cloudImages:H,imageSource:x,storageList:s,networkList:b,sortedStorageList:Z,sortedISOStorageList:$,sortedNetworkList:oo,selectedHostId:W,selectedStorage:C,selectedBridge:V,vlanTag:Y,loadingNodes:F,showProgressModal:N,progressData:P,uploadProgress:bo,closeProgressModal:po,loadingStorage:G,loadingNetwork:T,formData:a,creating:q,useDHCP:A,selectDatacenter:so,selectNode:to,selectStorage:ro,selectBridge:no,getStorageUsagePercent:io,createVM:go,formatBytes:fo,showAdvancedHardware:Q,showBootStartup:K,showSystemOptions:j,showMetadata:J}}},Po={class:"create-vm-page"},ho={class:"card"},Bo={class:"form-section"},Ao={class:"grid grid-cols-2 gap-2"},No={class:"form-group"},Oo={class:"form-group"},Eo={class:"grid grid-cols-2 gap-2"},Lo={class:"form-group"},Ho={class:"form-group"},Fo={class:"radio-group",style:{display:"flex",gap:"1rem","margin-bottom":"0.5rem"}},Go={class:"radio-label"},To={class:"radio-label"},qo=["value"],Ro=["value"],zo={key:0},Wo={class:"form-section"},Xo={class:"datacenter-selector"},Yo={class:"form-group"},Qo={class:"datacenter-cards"},Ko=["onClick"],jo={class:"datacenter-info"},Jo={class:"text-xs"},Zo={key:0,class:"form-group"},$o={class:"node-cards"},oe=["onClick"],ee={class:"node-header"},se={class:"node-resources"},te={class:"resource-item"},ae={class:"resource-item"},le={class:"resource-item"},re={key:1,class:"loading-message"},ne={key:0,class:"form-section"},ie={key:0,class:"loading-message"},de={key:1,class:"text-muted text-center"},ue={key:2,class:"form-group"},me={class:"storage-cards"},ve=["onClick"],pe={class:"storage-header"},ce={class:"badge badge-sm badge-info"},ge={class:"storage-info"},fe={class:"storage-bar"},be={class:"storage-stats"},ye={key:0,class:"storage-badge"},_e={key:1,class:"form-section"},we={key:0,class:"loading-message"},ke={key:1,class:"text-muted text-center"},De={key:2,class:"form-group"},Se={class:"storage-cards"},xe=["onClick"],Ce={class:"storage-header"},Ve={class:"badge badge-sm badge-info"},Ue={class:"storage-info"},Me={class:"storage-bar"},Ie={class:"storage-stats"},Pe={key:0,class:"storage-badge"},he={key:2,class:"form-section"},Be={key:0,class:"loading-message"},Ae={key:1,class:"text-muted text-center"},Ne={key:2},Oe={class:"form-group"},Ee={class:"network-cards"},Le=["onClick"],He={class:"network-header"},Fe={class:"network-info"},Ge={key:0,class:"text-xs"},Te={key:1,class:"text-xs"},qe={key:2,class:"text-xs"},Re={class:"form-group"},ze={class:"form-section"},We={class:"grid grid-cols-4 gap-2"},Xe={class:"form-group"},Ye={class:"form-group"},Qe={class:"form-group"},Ke={class:"form-group"},je={class:"form-section"},Je={class:"toggle-icon"},Ze={class:"collapsible-content"},$e={class:"grid grid-cols-3 gap-2"},os={class:"form-group"},es={class:"form-group"},ss={class:"form-group"},ts={class:"grid grid-cols-3 gap-2"},as={class:"form-group"},ls={class:"form-group"},rs={class:"form-group"},ns={class:"form-label"},is={class:"form-group"},ds={class:"grid grid-cols-2 gap-2"},us={class:"form-group"},ms={class:"form-group"},vs={class:"grid grid-cols-2 gap-2"},ps={class:"form-group"},cs={class:"form-group"},gs={class:"grid grid-cols-2 gap-2"},fs={class:"form-group"},bs={class:"form-group"},ys={class:"form-label"},_s={class:"form-section"},ws={class:"toggle-icon"},ks={class:"collapsible-content"},Ds={class:"form-group"},Ss={class:"form-label"},xs={class:"grid grid-cols-3 gap-2"},Cs={class:"form-group"},Vs={class:"form-group"},Us={class:"form-group"},Ms={class:"form-section"},Is={class:"toggle-icon"},Ps={class:"collapsible-content"},hs={class:"grid grid-cols-2 gap-2"},Bs={class:"form-group"},As={class:"form-group"},Ns={class:"form-label"},Os={class:"grid grid-cols-3 gap-2"},Es={class:"form-group"},Ls={class:"form-label"},Hs={class:"form-group"},Fs={class:"form-label"},Gs={class:"form-group"},Ts={class:"form-label"},qs={class:"form-section"},Rs={class:"toggle-icon"},zs={class:"collapsible-content"},Ws={class:"form-group"},Xs={class:"form-group"},Ys={class:"form-section"},Qs={class:"form-group"},Ks={class:"form-label"},js={key:0,class:"grid grid-cols-2 gap-2"},Js={class:"form-group"},Zs={class:"form-group"},$s={class:"form-group"},ot={class:"form-group"},et={class:"form-section"},st={class:"grid grid-cols-2 gap-2"},tt={class:"form-group"},at={class:"form-group"},lt={class:"form-group"},rt={class:"form-actions"},nt=["disabled"],it={class:"modal"},dt={class:"modal-content progress-modal"},ut={class:"modal-header"},mt={class:"modal-body"},vt={class:"progress-container"},pt={key:0,class:"spinner-container"},ct={key:1,class:"success-icon"},gt={key:2,class:"error-icon"},ft={class:"progress-vm-name"},bt={class:"progress-steps"},yt={class:"current-step"},_t={key:3,class:"progress-bar-container"},wt={class:"progress-bar-background"},kt={class:"progress-bar-text"},Dt={key:4,class:"progress-vmid"},St={key:5,class:"progress-error"},xt={class:"modal-footer"};function Ct(z,o,E,t,L,H){const x=_o("router-link");return n(),d(w,null,[e("div",Po,[e("div",ho,[o[156]||(o[156]=e("div",{class:"card-header"},[e("h3",null,"Create Virtual Machine")],-1)),e("form",{onSubmit:o[48]||(o[48]=ko((...s)=>t.createVM&&t.createVM(...s),["prevent"])),class:"create-vm-form"},[e("div",Bo,[o[59]||(o[59]=e("h4",{class:"section-title"},"Basic Information",-1)),e("div",Ao,[e("div",No,[o[50]||(o[50]=e("label",{class:"form-label"},"VM Name *",-1)),r(e("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>t.formData.name=s),class:"form-control",required:""},null,512),[[v,t.formData.name]])]),e("div",Oo,[o[51]||(o[51]=e("label",{class:"form-label"},"Hostname *",-1)),r(e("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>t.formData.hostname=s),class:"form-control",required:""},null,512),[[v,t.formData.hostname]])])]),e("div",Eo,[e("div",Lo,[o[53]||(o[53]=e("label",{class:"form-label"},"Operating System *",-1)),r(e("select",{"onUpdate:modelValue":o[2]||(o[2]=s=>t.formData.os_type=s),class:"form-control",required:""},[...o[52]||(o[52]=[h('<option value="" data-v-6a499dc1>Select OS</option><optgroup label="Linux Server" data-v-6a499dc1><option value="ubuntu" data-v-6a499dc1>Ubuntu</option><option value="debian" data-v-6a499dc1>Debian</option><option value="centos" data-v-6a499dc1>CentOS</option><option value="rocky" data-v-6a499dc1>Rocky Linux</option><option value="alma" data-v-6a499dc1>AlmaLinux</option></optgroup><optgroup label="Windows" data-v-6a499dc1><option value="windows_server_2016" data-v-6a499dc1>Windows Server 2016</option><option value="windows_server_2019" data-v-6a499dc1>Windows Server 2019</option><option value="windows_server_2022" data-v-6a499dc1>Windows Server 2022</option><option value="windows_10" data-v-6a499dc1>Windows 10</option><option value="windows_11" data-v-6a499dc1>Windows 11</option></optgroup><optgroup label="Firewall / Network" data-v-6a499dc1><option value="pfsense" data-v-6a499dc1>pfSense</option><option value="opnsense" data-v-6a499dc1>OPNsense</option><option value="sophos" data-v-6a499dc1>Sophos Firewall</option><option value="fortinet" data-v-6a499dc1>FortiGate</option><option value="vyos" data-v-6a499dc1>VyOS</option></optgroup><optgroup label="Other" data-v-6a499dc1><option value="freebsd" data-v-6a499dc1>FreeBSD</option><option value="truenas" data-v-6a499dc1>TrueNAS</option><option value="proxmox" data-v-6a499dc1>Proxmox VE</option><option value="esxi" data-v-6a499dc1>VMware ESXi</option><option value="other" data-v-6a499dc1>Other / Custom</option></optgroup>',5)])],512),[[_,t.formData.os_type]])]),e("div",Ho,[o[58]||(o[58]=e("label",{class:"form-label"},"Installation Method *",-1)),e("div",Fo,[e("label",Go,[r(e("input",{type:"radio","onUpdate:modelValue":o[3]||(o[3]=s=>t.imageSource=s),value:"iso"},null,512),[[X,t.imageSource]]),o[54]||(o[54]=e("span",null,"ISO Image",-1))]),e("label",To,[r(e("input",{type:"radio","onUpdate:modelValue":o[4]||(o[4]=s=>t.imageSource=s),value:"cloud_image"},null,512),[[X,t.imageSource]]),o[55]||(o[55]=e("span",null,"Cloud Image (Fast)",-1))])]),t.imageSource==="iso"?r((n(),d("select",{key:0,"onUpdate:modelValue":o[5]||(o[5]=s=>t.formData.iso_id=s),class:"form-control"},[o[56]||(o[56]=e("option",{value:null},"No ISO (cloud-init only)",-1)),(n(!0),d(w,null,M(t.isos,s=>(n(),d("option",{key:s.id,value:s.id},u(s.name)+" ("+u(s.version)+") ",9,qo))),128))],512)),[[_,t.formData.iso_id]]):c("",!0),t.imageSource==="cloud_image"?r((n(),d("select",{key:1,"onUpdate:modelValue":o[6]||(o[6]=s=>t.formData.cloud_image_id=s),class:"form-control",required:""},[o[57]||(o[57]=e("option",{value:null},"Select Cloud Image",-1)),(n(!0),d(w,null,M(t.cloudImages,s=>(n(),d("option",{key:s.id,value:s.id},[g(u(s.name)+" "+u(s.version?"("+s.version+")":"")+" ",1),s.is_downloaded?c("",!0):(n(),d("span",zo," - Not Downloaded"))],8,Ro))),128))],512)),[[_,t.formData.cloud_image_id]]):c("",!0)])])]),e("div",Wo,[o[67]||(o[67]=e("h4",{class:"section-title"},"Datacenter & Node Selection",-1)),e("div",Xo,[e("div",Yo,[o[61]||(o[61]=e("label",{class:"form-label"},"Select Proxmox Datacenter *",-1)),e("div",Qo,[(n(!0),d(w,null,M(t.hosts,s=>(n(),d("div",{key:s.id,class:k(["datacenter-card",{selected:t.selectedHostId===s.id}]),onClick:b=>t.selectDatacenter(s.id)},[o[60]||(o[60]=e("div",{class:"datacenter-icon"},"ðŸ¢",-1)),e("div",jo,[e("h5",null,u(s.name),1),e("p",Jo,u(s.hostname)+":"+u(s.port),1),e("span",{class:k(["badge",s.is_active?"badge-success":"badge-danger"])},u(s.is_active?"Active":"Inactive"),3)])],10,Ko))),128))])]),t.selectedHostId&&t.nodes.length>0?(n(),d("div",Zo,[o[65]||(o[65]=e("label",{class:"form-label"},"Select Node *",-1)),e("div",$o,[(n(!0),d(w,null,M(t.nodes,s=>(n(),d("div",{key:s.id,class:k(["node-card",{selected:t.formData.node_id===s.id}]),onClick:b=>t.selectNode(s.id)},[e("div",ee,[e("h6",null,u(s.node_name),1),e("span",{class:k(["badge","badge-sm",s.status==="online"?"badge-success":"badge-danger"])},u(s.status),3)]),e("div",se,[e("div",te,[o[62]||(o[62]=e("span",{class:"resource-icon"},"ðŸ–¥ï¸",-1)),e("span",null,u(s.cpu_cores)+" cores ("+u(s.cpu_usage)+"%)",1)]),e("div",ae,[o[63]||(o[63]=e("span",{class:"resource-icon"},"ðŸ’¾",-1)),e("span",null,u(t.formatBytes(s.memory_total))+" RAM",1)]),e("div",le,[o[64]||(o[64]=e("span",{class:"resource-icon"},"ðŸ’¿",-1)),e("span",null,u(t.formatBytes(s.disk_total))+" Disk",1)])])],10,oe))),128))])])):c("",!0),t.selectedHostId&&t.loadingNodes?(n(),d("div",re,[...o[66]||(o[66]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"Loading nodes...",-1)])])):c("",!0)])]),t.formData.node_id?(n(),d("div",ne,[o[72]||(o[72]=e("h4",{class:"section-title"},"Storage Configuration",-1)),t.loadingStorage?(n(),d("div",ie,[...o[68]||(o[68]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"Loading storage pools...",-1)])])):t.storageList.length===0?(n(),d("div",de,[...o[69]||(o[69]=[e("p",null,"No storage pools available",-1)])])):(n(),d("div",ue,[o[71]||(o[71]=e("label",{class:"form-label"},"Storage Pool *",-1)),e("div",me,[(n(!0),d(w,null,M(t.sortedStorageList,s=>(n(),d("div",{key:s.storage,class:k(["storage-card",{selected:t.selectedStorage===s.storage,disabled:!s.enabled||!s.active}]),onClick:b=>t.selectStorage(s.storage)},[e("div",pe,[e("h6",null,u(s.storage),1),e("span",ce,u(s.type),1)]),e("div",ge,[e("div",fe,[e("div",{class:"storage-bar-fill",style:R({width:t.getStorageUsagePercent(s)+"%"})},null,4)]),e("div",be,[e("span",null,u(t.formatBytes(s.available))+" free",1),e("span",null,u(t.formatBytes(s.total))+" total",1)])]),s.shared?(n(),d("div",ye,[...o[70]||(o[70]=[e("span",{class:"badge badge-success"},"Shared",-1)])])):c("",!0)],10,ve))),128))])]))])):c("",!0),t.formData.node_id?(n(),d("div",_e,[o[78]||(o[78]=e("h4",{class:"section-title"},"ISO Storage",-1)),o[79]||(o[79]=e("p",{class:"section-description"},"Select where installation media (ISO files) will be stored",-1)),t.loadingStorage?(n(),d("div",we,[...o[73]||(o[73]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"Loading storage pools...",-1)])])):t.storageList.length===0?(n(),d("div",ke,[...o[74]||(o[74]=[e("p",null,"No storage pools available",-1)])])):(n(),d("div",De,[o[76]||(o[76]=e("label",{class:"form-label"},"ISO Storage Pool *",-1)),e("div",Se,[(n(!0),d(w,null,M(t.sortedISOStorageList,s=>(n(),d("div",{key:"iso-"+s.storage,class:k(["storage-card",{selected:t.formData.iso_storage===s.storage,disabled:!s.enabled||!s.active}]),onClick:b=>t.formData.iso_storage=s.storage},[e("div",Ce,[e("h6",null,u(s.storage),1),e("span",Ve,u(s.type),1)]),e("div",Ue,[e("div",Me,[e("div",{class:"storage-bar-fill",style:R({width:t.getStorageUsagePercent(s)+"%"})},null,4)]),e("div",Ie,[e("span",null,u(t.formatBytes(s.used))+" / "+u(t.formatBytes(s.total)),1),e("span",null,u(t.getStorageUsagePercent(s))+"% used",1)])]),s.shared?(n(),d("div",Pe,[...o[75]||(o[75]=[e("span",{class:"badge badge-success"},"Shared",-1)])])):c("",!0)],10,xe))),128))]),o[77]||(o[77]=e("p",{class:"help-text"},"Only showing storage pools that support ISO content",-1))]))])):c("",!0),t.formData.node_id?(n(),d("div",he,[o[88]||(o[88]=e("h4",{class:"section-title"},"Network Configuration",-1)),t.loadingNetwork?(n(),d("div",Be,[...o[80]||(o[80]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"Loading network interfaces...",-1)])])):t.networkList.length===0?(n(),d("div",Ae,[...o[81]||(o[81]=[e("p",null,"No network bridges available",-1)])])):(n(),d("div",Ne,[e("div",Oe,[o[85]||(o[85]=e("label",{class:"form-label"},"Network Bridge *",-1)),e("div",Ee,[(n(!0),d(w,null,M(t.sortedNetworkList,s=>(n(),d("div",{key:s.iface,class:k(["network-card",{selected:t.selectedBridge===s.iface,disabled:!s.active}]),onClick:b=>t.selectBridge(s.iface)},[e("div",He,[e("h6",null,u(s.iface),1),e("span",{class:k(["badge","badge-sm",s.active?"badge-success":"badge-danger"])},u(s.active?"Active":"Inactive"),3)]),e("div",Fe,[s.address?(n(),d("div",Ge,[o[82]||(o[82]=e("strong",null,"IP:",-1)),g(" "+u(s.address)+u(s.netmask?"/"+s.netmask:""),1)])):c("",!0),s.gateway?(n(),d("div",Te,[o[83]||(o[83]=e("strong",null,"Gateway:",-1)),g(" "+u(s.gateway),1)])):c("",!0),s.bridge_ports?(n(),d("div",qe,[o[84]||(o[84]=e("strong",null,"Ports:",-1)),g(" "+u(s.bridge_ports),1)])):c("",!0)])],10,Le))),128))])]),e("div",Re,[o[86]||(o[86]=e("label",{class:"form-label"},"VLAN Tag (optional)",-1)),r(e("input",{"onUpdate:modelValue":o[7]||(o[7]=s=>t.vlanTag=s),type:"number",min:"1",max:"4094",class:"form-control",placeholder:"Leave empty for no VLAN"},null,512),[[v,t.vlanTag,void 0,{number:!0}]]),o[87]||(o[87]=e("p",{class:"text-xs text-muted"},"Enter VLAN ID (1-4094) or leave empty for untagged",-1))])]))])):c("",!0),e("div",ze,[o[93]||(o[93]=e("h4",{class:"section-title"},"Resource Allocation",-1)),e("div",We,[e("div",Xe,[o[89]||(o[89]=e("label",{class:"form-label"},"CPU Sockets *",-1)),r(e("input",{"onUpdate:modelValue":o[8]||(o[8]=s=>t.formData.cpu_sockets=s),type:"number",min:"1",max:"8",class:"form-control",required:""},null,512),[[v,t.formData.cpu_sockets,void 0,{number:!0}]])]),e("div",Ye,[o[90]||(o[90]=e("label",{class:"form-label"},"CPU Cores *",-1)),r(e("input",{"onUpdate:modelValue":o[9]||(o[9]=s=>t.formData.cpu_cores=s),type:"number",min:"1",max:"64",class:"form-control",required:""},null,512),[[v,t.formData.cpu_cores,void 0,{number:!0}]])]),e("div",Qe,[o[91]||(o[91]=e("label",{class:"form-label"},"Memory (MB) *",-1)),r(e("input",{"onUpdate:modelValue":o[10]||(o[10]=s=>t.formData.memory=s),type:"number",min:"512",step:"512",class:"form-control",required:""},null,512),[[v,t.formData.memory,void 0,{number:!0}]])]),e("div",Ke,[o[92]||(o[92]=e("label",{class:"form-label"},"Disk Size (GB) *",-1)),r(e("input",{"onUpdate:modelValue":o[11]||(o[11]=s=>t.formData.disk_size=s),type:"number",min:"10",class:"form-control",required:""},null,512),[[v,t.formData.disk_size,void 0,{number:!0}]])])])]),e("div",je,[e("h4",{class:"section-title collapsible-header",onClick:o[12]||(o[12]=s=>t.showAdvancedHardware=!t.showAdvancedHardware)},[e("span",Je,u(t.showAdvancedHardware?"â–¼":"â–¶"),1),o[94]||(o[94]=g(" Advanced Hardware Options ",-1))]),r(e("div",Ze,[e("div",$e,[e("div",os,[o[96]||(o[96]=e("label",{class:"form-label"},"CPU Type",-1)),r(e("select",{"onUpdate:modelValue":o[13]||(o[13]=s=>t.formData.cpu_type=s),class:"form-control"},[...o[95]||(o[95]=[h('<option value="x86-64-v2-AES" data-v-6a499dc1>x86-64-v2-AES (Default)</option><option value="host" data-v-6a499dc1>Host (Passthrough)</option><option value="qemu64" data-v-6a499dc1>QEMU64</option><option value="kvm64" data-v-6a499dc1>KVM64</option><option value="x86-64-v2" data-v-6a499dc1>x86-64-v2</option><option value="x86-64-v3" data-v-6a499dc1>x86-64-v3</option><option value="x86-64-v4" data-v-6a499dc1>x86-64-v4</option><option value="max" data-v-6a499dc1>Max (All features)</option><option value="Broadwell" data-v-6a499dc1>Intel Broadwell</option><option value="Broadwell-noTSX" data-v-6a499dc1>Intel Broadwell-noTSX</option><option value="Cascadelake-Server" data-v-6a499dc1>Intel Cascadelake Server</option><option value="Cascadelake-Server-noTSX" data-v-6a499dc1>Intel Cascadelake Server-noTSX</option><option value="Haswell" data-v-6a499dc1>Intel Haswell</option><option value="Haswell-noTSX" data-v-6a499dc1>Intel Haswell-noTSX</option><option value="IvyBridge" data-v-6a499dc1>Intel IvyBridge</option><option value="SandyBridge" data-v-6a499dc1>Intel SandyBridge</option><option value="Skylake-Client" data-v-6a499dc1>Intel Skylake Client</option><option value="Skylake-Server" data-v-6a499dc1>Intel Skylake Server</option><option value="Westmere" data-v-6a499dc1>Intel Westmere</option><option value="EPYC" data-v-6a499dc1>AMD EPYC</option><option value="EPYC-Rome" data-v-6a499dc1>AMD EPYC Rome</option><option value="EPYC-Milan" data-v-6a499dc1>AMD EPYC Milan</option><option value="Opteron_G5" data-v-6a499dc1>AMD Opteron G5</option>',23)])],512),[[_,t.formData.cpu_type]])]),e("div",es,[o[98]||(o[98]=e("label",{class:"form-label"},"BIOS Type",-1)),r(e("select",{"onUpdate:modelValue":o[14]||(o[14]=s=>t.formData.bios_type=s),class:"form-control"},[...o[97]||(o[97]=[e("option",{value:"seabios"},"SeaBIOS (Legacy)",-1),e("option",{value:"ovmf"},"OVMF (UEFI)",-1)])],512),[[_,t.formData.bios_type]])]),e("div",ss,[o[100]||(o[100]=e("label",{class:"form-label"},"VGA Type",-1)),r(e("select",{"onUpdate:modelValue":o[15]||(o[15]=s=>t.formData.vga_type=s),class:"form-control"},[...o[99]||(o[99]=[h('<option value="std" data-v-6a499dc1>Standard VGA</option><option value="virtio" data-v-6a499dc1>VirtIO-GPU</option><option value="qxl" data-v-6a499dc1>QXL (SPICE)</option><option value="vmware" data-v-6a499dc1>VMware compatible</option><option value="cirrus" data-v-6a499dc1>Cirrus Logic</option>',5)])],512),[[_,t.formData.vga_type]])])]),e("div",ts,[e("div",as,[o[102]||(o[102]=e("label",{class:"form-label"},"Machine Type",-1)),r(e("select",{"onUpdate:modelValue":o[16]||(o[16]=s=>t.formData.machine_type=s),class:"form-control"},[...o[101]||(o[101]=[e("option",{value:"pc"},"PC (i440FX)",-1),e("option",{value:"q35"},"Q35 (PCIe)",-1)])],512),[[_,t.formData.machine_type]])]),e("div",ls,[o[104]||(o[104]=e("label",{class:"form-label"},"Boot Order",-1)),r(e("select",{"onUpdate:modelValue":o[17]||(o[17]=s=>t.formData.boot_order=s),class:"form-control"},[...o[103]||(o[103]=[h('<option value="cdn" data-v-6a499dc1>Disk, CD-ROM, Network</option><option value="dcn" data-v-6a499dc1>CD-ROM, Disk, Network</option><option value="ncd" data-v-6a499dc1>Network, Disk, CD-ROM</option><option value="c" data-v-6a499dc1>Disk only</option><option value="d" data-v-6a499dc1>CD-ROM only</option><option value="n" data-v-6a499dc1>Network only</option>',6)])],512),[[_,t.formData.boot_order]])]),e("div",rs,[e("label",ns,[r(e("input",{"onUpdate:modelValue":o[18]||(o[18]=s=>t.formData.numa_enabled=s),type:"checkbox",style:{"margin-right":"8px"}},null,512),[[D,t.formData.numa_enabled]]),o[105]||(o[105]=g(" Enable NUMA ",-1))]),o[106]||(o[106]=e("div",{class:"form-text"},"Enable Non-Uniform Memory Access",-1))])]),e("div",is,[o[107]||(o[107]=e("label",{class:"form-label"},"CPU Flags (optional)",-1)),r(e("input",{"onUpdate:modelValue":o[19]||(o[19]=s=>t.formData.cpu_flags=s),type:"text",class:"form-control",placeholder:"e.g., +aes,+ssse3"},null,512),[[v,t.formData.cpu_flags]]),o[108]||(o[108]=e("small",{class:"form-help"},"Additional CPU flags (comma-separated)",-1))]),e("div",ds,[e("div",us,[o[109]||(o[109]=e("label",{class:"form-label"},"CPU Limit (optional)",-1)),r(e("input",{"onUpdate:modelValue":o[20]||(o[20]=s=>t.formData.cpu_limit=s),type:"number",min:"0",max:"128",class:"form-control",placeholder:"0 = unlimited"},null,512),[[v,t.formData.cpu_limit,void 0,{number:!0}]]),o[110]||(o[110]=e("small",{class:"form-help"},"Limit CPU usage (0-128, 0 = unlimited)",-1))]),e("div",ms,[o[111]||(o[111]=e("label",{class:"form-label"},"CPU Units",-1)),r(e("input",{"onUpdate:modelValue":o[21]||(o[21]=s=>t.formData.cpu_units=s),type:"number",min:"8",max:"500000",class:"form-control"},null,512),[[v,t.formData.cpu_units,void 0,{number:!0}]]),o[112]||(o[112]=e("small",{class:"form-help"},"CPU scheduler weight (default: 1024)",-1))])]),e("div",vs,[e("div",ps,[o[113]||(o[113]=e("label",{class:"form-label"},"Memory Balloon (MB, optional)",-1)),r(e("input",{"onUpdate:modelValue":o[22]||(o[22]=s=>t.formData.balloon=s),type:"number",min:"0",class:"form-control",placeholder:"0 = disabled"},null,512),[[v,t.formData.balloon,void 0,{number:!0}]]),o[114]||(o[114]=e("small",{class:"form-help"},"Dynamic memory allocation (0 = disabled)",-1))]),e("div",cs,[o[115]||(o[115]=e("label",{class:"form-label"},"Memory Shares (optional)",-1)),r(e("input",{"onUpdate:modelValue":o[23]||(o[23]=s=>t.formData.shares=s),type:"number",min:"0",max:"50000",class:"form-control",placeholder:"Default"},null,512),[[v,t.formData.shares,void 0,{number:!0}]]),o[116]||(o[116]=e("small",{class:"form-help"},"Memory scheduler weight",-1))])]),e("div",gs,[e("div",fs,[o[118]||(o[118]=e("label",{class:"form-label"},"SCSI Controller",-1)),r(e("select",{"onUpdate:modelValue":o[24]||(o[24]=s=>t.formData.scsihw=s),class:"form-control"},[...o[117]||(o[117]=[h('<option value="virtio-scsi-pci" data-v-6a499dc1>VirtIO SCSI (Default)</option><option value="virtio-scsi-single" data-v-6a499dc1>VirtIO SCSI Single</option><option value="lsi" data-v-6a499dc1>LSI 53C895A</option><option value="lsi53c810" data-v-6a499dc1>LSI 53C810</option><option value="megasas" data-v-6a499dc1>MegaRAID SAS 8708EM2</option><option value="pvscsi" data-v-6a499dc1>VMware PVSCSI</option>',6)])],512),[[_,t.formData.scsihw]])]),e("div",bs,[e("label",ys,[r(e("input",{type:"checkbox","onUpdate:modelValue":o[25]||(o[25]=s=>t.formData.tablet=s),style:{"margin-right":"8px"}},null,512),[[D,t.formData.tablet]]),o[119]||(o[119]=g(" Enable Tablet Pointer Device ",-1))]),o[120]||(o[120]=e("div",{class:"form-text"},"Improves mouse tracking in VNC/SPICE",-1))])])],512),[[B,t.showAdvancedHardware]])]),e("div",_s,[e("h4",{class:"section-title collapsible-header",onClick:o[26]||(o[26]=s=>t.showBootStartup=!t.showBootStartup)},[e("span",ws,u(t.showBootStartup?"â–¼":"â–¶"),1),o[121]||(o[121]=g(" Boot & Startup Options ",-1))]),r(e("div",ks,[e("div",Ds,[e("label",Ss,[r(e("input",{type:"checkbox","onUpdate:modelValue":o[27]||(o[27]=s=>t.formData.onboot=s),style:{"margin-right":"8px"}},null,512),[[D,t.formData.onboot]]),o[122]||(o[122]=g(" Start VM at boot ",-1))]),o[123]||(o[123]=e("div",{class:"form-text"},"Automatically start this VM when the Proxmox host boots",-1))]),e("div",xs,[e("div",Cs,[o[124]||(o[124]=e("label",{class:"form-label"},"Startup Order (optional)",-1)),r(e("input",{"onUpdate:modelValue":o[28]||(o[28]=s=>t.formData.startup_order=s),type:"number",min:"0",class:"form-control",placeholder:"Default"},null,512),[[v,t.formData.startup_order,void 0,{number:!0}]]),o[125]||(o[125]=e("small",{class:"form-help"},"Boot order (lower starts first)",-1))]),e("div",Vs,[o[126]||(o[126]=e("label",{class:"form-label"},"Startup Delay (seconds)",-1)),r(e("input",{"onUpdate:modelValue":o[29]||(o[29]=s=>t.formData.startup_up=s),type:"number",min:"0",class:"form-control",placeholder:"0"},null,512),[[v,t.formData.startup_up,void 0,{number:!0}]]),o[127]||(o[127]=e("small",{class:"form-help"},"Delay before starting",-1))]),e("div",Us,[o[128]||(o[128]=e("label",{class:"form-label"},"Shutdown Timeout (seconds)",-1)),r(e("input",{"onUpdate:modelValue":o[30]||(o[30]=s=>t.formData.startup_down=s),type:"number",min:"0",class:"form-control",placeholder:"60"},null,512),[[v,t.formData.startup_down,void 0,{number:!0}]]),o[129]||(o[129]=e("small",{class:"form-help"},"Wait time before force stop",-1))])])],512),[[B,t.showBootStartup]])]),e("div",Ms,[e("h4",{class:"section-title collapsible-header",onClick:o[31]||(o[31]=s=>t.showSystemOptions=!t.showSystemOptions)},[e("span",Is,u(t.showSystemOptions?"â–¼":"â–¶"),1),o[130]||(o[130]=g(" System Options ",-1))]),r(e("div",Ps,[e("div",hs,[e("div",Bs,[o[131]||(o[131]=e("label",{class:"form-label"},"Hotplug Options (optional)",-1)),r(e("input",{"onUpdate:modelValue":o[32]||(o[32]=s=>t.formData.hotplug=s),type:"text",class:"form-control",placeholder:"disk,network,usb,memory,cpu"},null,512),[[v,t.formData.hotplug]]),o[132]||(o[132]=e("small",{class:"form-help"},"Comma-separated list of hotplug devices",-1))]),e("div",As,[e("label",Ns,[r(e("input",{type:"checkbox","onUpdate:modelValue":o[33]||(o[33]=s=>t.formData.protection=s),style:{"margin-right":"8px"}},null,512),[[D,t.formData.protection]]),o[133]||(o[133]=g(" Protection (prevent deletion) ",-1))]),o[134]||(o[134]=e("div",{class:"form-text"},"Protect VM from accidental removal",-1))])]),e("div",Os,[e("div",Es,[e("label",Ls,[r(e("input",{type:"checkbox","onUpdate:modelValue":o[34]||(o[34]=s=>t.formData.kvm=s),style:{"margin-right":"8px"}},null,512),[[D,t.formData.kvm]]),o[135]||(o[135]=g(" Enable KVM Hardware Virtualization ",-1))]),o[136]||(o[136]=e("div",{class:"form-text"},"Use hardware virtualization",-1))]),e("div",Hs,[e("label",Fs,[r(e("input",{type:"checkbox","onUpdate:modelValue":o[35]||(o[35]=s=>t.formData.acpi=s),style:{"margin-right":"8px"}},null,512),[[D,t.formData.acpi]]),o[137]||(o[137]=g(" Enable ACPI ",-1))]),o[138]||(o[138]=e("div",{class:"form-text"},"Advanced power management",-1))]),e("div",Gs,[e("label",Ts,[r(e("input",{type:"checkbox","onUpdate:modelValue":o[36]||(o[36]=s=>t.formData.agent_enabled=s),style:{"margin-right":"8px"}},null,512),[[D,t.formData.agent_enabled]]),o[139]||(o[139]=g(" Enable QEMU Guest Agent ",-1))]),o[140]||(o[140]=e("div",{class:"form-text"},"Better VM management",-1))])])],512),[[B,t.showSystemOptions]])]),e("div",qs,[e("h4",{class:"section-title collapsible-header",onClick:o[37]||(o[37]=s=>t.showMetadata=!t.showMetadata)},[e("span",Rs,u(t.showMetadata?"â–¼":"â–¶"),1),o[141]||(o[141]=g(" VM Metadata ",-1))]),r(e("div",zs,[e("div",Ws,[o[142]||(o[142]=e("label",{class:"form-label"},"Description (optional)",-1)),r(e("textarea",{"onUpdate:modelValue":o[38]||(o[38]=s=>t.formData.description=s),class:"form-control",rows:"2",placeholder:"VM description or notes..."},null,512),[[v,t.formData.description]])]),e("div",Xs,[o[143]||(o[143]=e("label",{class:"form-label"},"Tags (optional)",-1)),r(e("input",{"onUpdate:modelValue":o[39]||(o[39]=s=>t.formData.tags=s),type:"text",class:"form-control",placeholder:"production;web-server;app"},null,512),[[v,t.formData.tags]]),o[144]||(o[144]=e("small",{class:"form-help"},"Semicolon-separated tags",-1))])],512),[[B,t.showMetadata]])]),e("div",Ys,[o[150]||(o[150]=e("h4",{class:"section-title"},"Network Configuration",-1)),e("div",Qs,[e("label",Ks,[r(e("input",{"onUpdate:modelValue":o[40]||(o[40]=s=>t.useDHCP=s),type:"checkbox"},null,512),[[D,t.useDHCP]]),o[145]||(o[145]=g(" Use DHCP (automatic IP assignment) ",-1))])]),t.useDHCP?c("",!0):(n(),d("div",js,[e("div",Js,[o[146]||(o[146]=e("label",{class:"form-label"},"IP Address",-1)),r(e("input",{"onUpdate:modelValue":o[41]||(o[41]=s=>t.formData.ip_address=s),type:"text",class:"form-control",placeholder:"192.168.1.100"},null,512),[[v,t.formData.ip_address]])]),e("div",Zs,[o[147]||(o[147]=e("label",{class:"form-label"},"Netmask (CIDR)",-1)),r(e("input",{"onUpdate:modelValue":o[42]||(o[42]=s=>t.formData.netmask=s),type:"text",class:"form-control",placeholder:"24"},null,512),[[v,t.formData.netmask]])]),e("div",$s,[o[148]||(o[148]=e("label",{class:"form-label"},"Gateway",-1)),r(e("input",{"onUpdate:modelValue":o[43]||(o[43]=s=>t.formData.gateway=s),type:"text",class:"form-control",placeholder:"192.168.1.1"},null,512),[[v,t.formData.gateway]])]),e("div",ot,[o[149]||(o[149]=e("label",{class:"form-label"},"DNS Servers",-1)),r(e("input",{"onUpdate:modelValue":o[44]||(o[44]=s=>t.formData.dns_servers=s),type:"text",class:"form-control",placeholder:"8.8.8.8,8.8.4.4"},null,512),[[v,t.formData.dns_servers]])])]))]),e("div",et,[o[154]||(o[154]=e("h4",{class:"section-title"},"Credentials",-1)),e("div",st,[e("div",tt,[o[151]||(o[151]=e("label",{class:"form-label"},"Username *",-1)),r(e("input",{"onUpdate:modelValue":o[45]||(o[45]=s=>t.formData.username=s),type:"text",class:"form-control",required:""},null,512),[[v,t.formData.username]])]),e("div",at,[o[152]||(o[152]=e("label",{class:"form-label"},"Password *",-1)),r(e("input",{"onUpdate:modelValue":o[46]||(o[46]=s=>t.formData.password=s),type:"password",class:"form-control",required:""},null,512),[[v,t.formData.password]])])]),e("div",lt,[o[153]||(o[153]=e("label",{class:"form-label"},"SSH Public Key (optional)",-1)),r(e("textarea",{"onUpdate:modelValue":o[47]||(o[47]=s=>t.formData.ssh_key=s),class:"form-control",rows:"3",placeholder:"ssh-rsa AAAA..."},null,512),[[v,t.formData.ssh_key]])])]),e("div",rt,[e("button",{type:"submit",class:"btn btn-primary",disabled:t.creating},u(t.creating?"Creating VM...":"Create Virtual Machine"),9,nt),Do(x,{to:"/vms",class:"btn btn-outline"},{default:So(()=>[...o[155]||(o[155]=[g(" Cancel ",-1)])]),_:1})])],32)])]),(n(),wo(xo,{to:"body"},[r(e("div",it,[e("div",dt,[e("div",ut,[e("h3",null,u(t.progressData.status==="error"?"Deployment Failed":"Deploying VM"),1)]),e("div",mt,[e("div",vt,[t.progressData.status==="creating"?(n(),d("div",pt,[...o[157]||(o[157]=[e("div",{class:"spinner"},null,-1)])])):t.progressData.status==="running"?(n(),d("div",ct,"âœ“")):t.progressData.status==="error"?(n(),d("div",gt,"âœ•")):c("",!0),e("h4",ft,u(t.progressData.name),1),e("div",bt,[e("div",yt,u(t.progressData.status_message||"Initializing deployment..."),1)]),t.uploadProgress>0&&t.uploadProgress<100?(n(),d("div",_t,[e("div",wt,[e("div",{class:"progress-bar-fill",style:R({width:t.uploadProgress+"%"})},[e("span",kt,u(t.uploadProgress)+"%",1)],4)])])):c("",!0),t.progressData.vmid?(n(),d("div",Dt," VM ID: "+u(t.progressData.vmid),1)):c("",!0),t.progressData.error_message?(n(),d("div",St,[o[158]||(o[158]=e("strong",null,"Error:",-1)),g(" "+u(t.progressData.error_message),1)])):c("",!0)])]),e("div",xt,[t.progressData.status==="running"||t.progressData.status==="error"?(n(),d("button",{key:0,onClick:o[49]||(o[49]=(...s)=>t.closeProgressModal&&t.closeProgressModal(...s)),class:"btn btn-primary"},u(t.progressData.status==="running"?"Go to VMs":"Close"),1)):c("",!0)])])],512),[[B,t.showProgressModal]])]))],64)}const Mt=yo(Io,[["render",Ct],["__scopeId","data-v-6a499dc1"]]);export{Mt as default};
