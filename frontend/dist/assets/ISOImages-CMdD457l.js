import{_ as ao,c as i,o as d,a as o,d as v,F as N,p as B,t as n,m as W,w as T,e as b,v as k,A as M,B as z,n as to,x as lo,r as u,j as so,k as no,l as y}from"./index--ws0JLg4.js";const io={name:"ISOImages",setup(){const c=lo(),e=u([]),I=u(!1),a=u(!1),F=u(!1),E=u(!1),t=u(0),p=u(0),h=u(0),g=u(0),D=u(!1),R=u(null),S=u([]),O=u(null);let P=null;const f=u({name:"",os_type:"",version:"",architecture:"amd64"}),U=u({url:"",name:"",os_type:"",version:"",architecture:"amd64"}),A=u([{name:"Ubuntu 24.04 LTS Server",filename:"ubuntu-24.04.3-live-server-amd64.iso",os_type:"ubuntu",version:"24.04.3",architecture:"amd64",download_url:"https://releases.ubuntu.com/24.04/ubuntu-24.04.3-live-server-amd64.iso",icon:"ðŸŸ "},{name:"Ubuntu 22.04 LTS Server",filename:"ubuntu-22.04-live-server-amd64.iso",os_type:"ubuntu",version:"22.04",architecture:"amd64",download_url:"https://releases.ubuntu.com/22.04/ubuntu-22.04.5-live-server-amd64.iso",icon:"ðŸŸ "},{name:"Ubuntu 20.04 LTS Server",filename:"ubuntu-20.04-live-server-amd64.iso",os_type:"ubuntu",version:"20.04",architecture:"amd64",download_url:"https://releases.ubuntu.com/20.04/ubuntu-20.04.6-live-server-amd64.iso",icon:"ðŸŸ "},{name:"Debian 13 (Trixie)",filename:"debian-13.2.0-amd64-netinst.iso",os_type:"debian",version:"13.2",architecture:"amd64",download_url:"https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/debian-13.2.0-amd64-netinst.iso",icon:"ðŸ”´"},{name:"Rocky Linux 9",filename:"Rocky-9-latest-x86_64-minimal.iso",os_type:"rocky",version:"9",architecture:"amd64",download_url:"https://download.rockylinux.org/pub/rocky/9/isos/x86_64/Rocky-9-latest-x86_64-minimal.iso",icon:"ðŸŸ¢"},{name:"Rocky Linux 8",filename:"Rocky-8-x86_64-minimal.iso",os_type:"rocky",version:"8",architecture:"amd64",download_url:"https://download.rockylinux.org/pub/rocky/8/isos/x86_64/Rocky-8.10-x86_64-minimal.iso",icon:"ðŸŸ¢"},{name:"AlmaLinux 9",filename:"AlmaLinux-9-latest-x86_64-minimal.iso",os_type:"alma",version:"9",architecture:"amd64",download_url:"https://repo.almalinux.org/almalinux/9/isos/x86_64/AlmaLinux-9-latest-x86_64-minimal.iso",icon:"ðŸ”µ"},{name:"AlmaLinux 8",filename:"AlmaLinux-8-x86_64-minimal.iso",os_type:"alma",version:"8",architecture:"amd64",download_url:"https://repo.almalinux.org/almalinux/8/isos/x86_64/AlmaLinux-8.10-x86_64-minimal.iso",icon:"ðŸ”µ"},{name:"Fedora Server 41",filename:"Fedora-Server-41.iso",os_type:"fedora",version:"41",architecture:"amd64",download_url:"https://download.fedoraproject.org/pub/fedora/linux/releases/41/Server/x86_64/iso/Fedora-Server-netinst-x86_64-41-1.4.iso",icon:"ðŸ”·"},{name:"CentOS Stream 9",filename:"CentOS-Stream-9.iso",os_type:"centos",version:"9",architecture:"amd64",download_url:"https://mirrors.ocf.berkeley.edu/centos-stream/9-stream/BaseOS/x86_64/iso/CentOS-Stream-9-latest-x86_64-dvd1.iso",icon:"ðŸŸ£"},{name:"openSUSE Leap 15.6",filename:"openSUSE-Leap-15.6-NET-x86_64-Media.iso",os_type:"opensuse",version:"15.6",architecture:"amd64",download_url:"https://download.opensuse.org/distribution/leap/15.6/iso/openSUSE-Leap-15.6-NET-x86_64-Media.iso",icon:"ðŸŸ¢"},{name:"pfSense CE 2.7.2",filename:"pfSense-CE-2.7.2-RELEASE-amd64.iso",os_type:"pfsense",version:"2.7.2",architecture:"amd64",download_url:"https://repo.ialab.dsu.edu/pfsense/pfSense-CE-2.7.2-RELEASE-amd64.iso.gz",icon:"ðŸ”¥"},{name:"OPNsense 24.7",filename:"OPNsense-24.7-dvd-amd64.iso",os_type:"opnsense",version:"24.7",architecture:"amd64",download_url:"https://mirrors.dotsrc.org/opnsense/releases/24.7/OPNsense-24.7-dvd-amd64.iso.bz2",icon:"ðŸ›¡ï¸"},{name:"FreeBSD 14.2",filename:"FreeBSD-14.2-RELEASE-amd64-disc1.iso",os_type:"freebsd",version:"14.2",architecture:"amd64",download_url:"https://download.freebsd.org/releases/amd64/amd64/ISO-IMAGES/14.2/FreeBSD-14.2-RELEASE-amd64-disc1.iso",icon:"ðŸ‘¹"},{name:"TrueNAS CORE 13.0-U6.2",filename:"TrueNAS-13.0-U6.2.iso",os_type:"truenas",version:"13.0-U6.2",architecture:"amd64",download_url:"https://download-core.sys.truenas.net/13.0/STABLE/U6.2/x64/TrueNAS-13.0-U6.2.iso",icon:"ðŸ’¾"},{name:"Proxmox VE 8.3",filename:"proxmox-ve_8.3-1.iso",os_type:"proxmox",version:"8.3",architecture:"amd64",download_url:"https://www.proxmox.com/en/downloads?task=callelement&format=raw&item_id=859&element=f85c494b-2b32-4109-b8c1-083cca2b7db6&method=download",icon:"ðŸ“¦"},{name:"Untangle NG Firewall 16.3",filename:"ngfw-untangle-16.3.2-amd64.iso",os_type:"other",version:"16.3.2",architecture:"amd64",download_url:"https://downloads.untangle.com/public/current-release/NGFW/ngfw-untangle-16.3.2-amd64.iso",icon:"ðŸ›¡ï¸"},{name:"Alpine Linux 3.21",filename:"alpine-virt-3.21.0-x86_64.iso",os_type:"other",version:"3.21.0",architecture:"amd64",download_url:"https://dl-cdn.alpinelinux.org/alpine/v3.21/releases/x86_64/alpine-virt-3.21.0-x86_64.iso",icon:"â›°ï¸"},{name:"Zentyal Server 8.0",filename:"zentyal-8.0-development-amd64.iso",os_type:"other",version:"8.0",architecture:"amd64",download_url:"https://download.zentyal.com/zentyal-8.0-development-amd64.iso",icon:"ðŸ¢"}]),q=so(()=>[...A.value].sort((l,s)=>l.name.localeCompare(s.name))),G=l=>{const s=S.value.indexOf(l.name);s>-1?S.value.splice(s,1):S.value.push(l.name)},j=l=>S.value.includes(l),H=()=>A.value.filter(l=>S.value.includes(l.name)),x=async()=>{I.value=!0;try{const l=await y.isos.list();e.value=l.data}catch(l){console.error("Failed to fetch ISOs:",l)}finally{I.value=!1}},X=l=>{const s=l.target.files[0];s&&(O.value=s,f.value.name||(f.value.name=s.name.replace(".iso","")))},Z=()=>{if(S.value.length===0){c.error("Please select at least one ISO");return}const l=H(),s=l.length;l.forEach(r=>{y.isos.downloadFromUrl({url:r.download_url,name:r.name,os_type:r.os_type,version:r.version,architecture:r.architecture}).catch(w=>{console.error(`Failed to queue ${r.name}:`,w)})}),c.success(`Queued ${s} ISO${s>1?"s":""} for download`),C(),setTimeout(()=>x(),1500)},K=async()=>{if(O.value){a.value=!0,t.value=0,P=Date.now();try{const l=new FormData;l.append("file",O.value),l.append("name",f.value.name),l.append("os_type",f.value.os_type),l.append("version",f.value.version),l.append("architecture",f.value.architecture);const s=m=>{if(m.total){const _=Math.round(m.loaded*50/m.total);t.value=_,p.value=m.loaded,h.value=m.total;const V=(Date.now()-P)/1e3;V>0&&(g.value=m.loaded/V)}},w=(await y.isos.upload(l,s)).data.id;c.info("Upload complete, processing file...",{timeout:2e3});let L=!1;for(;!L;){await new Promise(m=>setTimeout(m,500));try{const _=(await y.isos.getProgress(w)).data;if(_.status==="completed")t.value=100,L=!0,c.success("ISO uploaded and processed successfully");else{if(_.status==="error")throw new Error(_.message||"Processing failed");t.value=50+Math.round(_.progress/2)}}catch(m){console.warn("Failed to get progress, assuming complete:",m),L=!0,t.value=100}}await new Promise(m=>setTimeout(m,500)),C(),await x()}catch(l){console.error("Failed to upload ISO:",l),c.error("Failed to upload ISO: "+(l.message||"Unknown error"))}finally{a.value=!1,t.value=0,p.value=0,h.value=0,g.value=0}}},Q=async l=>{const s=c.info("Checking ISO checksum...",{timeout:!1});try{const r=await y.isos.verify(l);c.dismiss(s),r.data.status==="valid"?c.success("ISO checksum is valid"):c.error("ISO checksum verification failed")}catch(r){c.dismiss(s),console.error("Failed to verify ISO:",r)}},J=async l=>{if(confirm("Are you sure you want to delete this ISO image?"))try{await y.isos.delete(l),c.success("ISO deleted successfully"),await x()}catch(s){console.error("Failed to delete ISO:",s)}},Y=l=>({ubuntu:"Ubuntu",debian:"Debian",centos:"CentOS",rocky:"Rocky Linux",alma:"AlmaLinux",windows_server_2019:"Windows Server 2019",windows_server_2022:"Windows Server 2022",windows_10:"Windows 10",windows_11:"Windows 11"})[l]||l,$=l=>{if(!l)return"0 B";const s=["B","KB","MB","GB","TB"],r=Math.floor(Math.log(l)/Math.log(1024));return Math.round(l/Math.pow(1024,r)*100)/100+" "+s[r]},oo=()=>{if(g.value===0||p.value===0)return"Calculating...";const s=(h.value-p.value)/g.value;if(s<60)return Math.ceil(s)+"s";if(s<3600){const r=Math.floor(s/60),w=Math.ceil(s%60);return`${r}m ${w}s`}else{const r=Math.floor(s/3600),w=Math.ceil(s%3600/60);return`${r}h ${w}m`}},eo=async()=>{F.value=!0;try{await y.isos.downloadFromUrl(U.value),c.success("ISO download started successfully"),C(),await x()}catch(l){console.error("Failed to download ISO:",l),c.error("Failed to download ISO")}finally{F.value=!1}},C=()=>{D.value=!1,R.value=null,S.value=[],f.value={name:"",os_type:"",version:"",architecture:"amd64"},U.value={url:"",name:"",os_type:"",version:"",architecture:"amd64"},O.value=null,p.value=0,h.value=0,g.value=0};return no(()=>{x()}),{isos:e,loading:I,uploading:a,downloading:F,saving:E,uploadProgress:t,uploadedBytes:p,totalBytes:h,uploadSpeed:g,showAddModal:D,isoSelectionMode:R,selectedISONames:S,selectedFile:O,uploadForm:f,downloadForm:U,predefinedISOs:A,sortedPredefinedISOs:q,onFileSelected:X,uploadISO:K,downloadFromUrl:eo,saveSelectedISOs:Z,toggleISOSelection:G,isISOSelected:j,verifyISO:Q,deleteISO:J,closeModal:C,formatOSType:Y,formatBytes:$,formatTimeRemaining:oo}}},ro={class:"iso-images-page"},uo={class:"card"},co={class:"card-header"},mo={class:"flex gap-1"},vo={key:0,class:"loading-spinner"},po={key:1,class:"text-center text-muted"},bo={key:2,class:"table-container"},So={class:"table"},fo={class:"badge badge-info"},wo={class:"text-xs text-muted"},yo={class:"flex gap-1"},go=["onClick"],_o=["onClick"],ho={class:"modal-header"},Oo={key:0,class:"modal-body selection-mode"},xo={class:"selection-options"},ko={key:1,class:"modal-body"},Io={class:"mode-header"},Fo={key:0,class:"selection-count"},Co={class:"predefined-images-grid"},Mo=["onClick"],Uo={class:"predefined-image-icon"},Ao={class:"predefined-image-info"},Lo={class:"predefined-image-name"},No={class:"predefined-image-details"},Bo={key:0,class:"predefined-image-check"},To={key:0,class:"selected-images-preview"},Eo={class:"selected-images-list"},Do={class:"modal-footer"},Ro=["disabled"],Po={class:"mode-header"},Vo={class:"form-group"},Wo={key:0,class:"text-sm text-muted mt-1"},zo={class:"form-group"},qo={class:"form-group"},Go={class:"grid grid-cols-2 gap-2"},jo={class:"form-group"},Ho={class:"form-group"},Xo={key:0,class:"upload-progress"},Zo={class:"upload-stats"},Ko={class:"stat-row"},Qo={class:"stat-value"},Jo={class:"stat-row"},Yo={class:"stat-value"},$o={key:0,class:"stat-row"},oe={class:"stat-value"},ee={key:1,class:"stat-row"},ae={class:"stat-value"},te={class:"progress-bar"},le={class:"modal-footer"},se=["disabled"],ne=["disabled"],ie={class:"mode-header"},de={class:"form-group"},re={class:"form-group"},ue={class:"form-group"},ce={class:"grid grid-cols-2 gap-2"},me={class:"form-group"},ve={class:"form-group"},pe={key:0,class:"upload-progress"},be={class:"modal-footer"},Se=["disabled"],fe=["disabled"];function we(c,e,I,a,F,E){return d(),i("div",ro,[o("div",uo,[o("div",co,[e[26]||(e[26]=o("h3",null,"ISO Images",-1)),o("div",mo,[o("button",{onClick:e[0]||(e[0]=t=>a.showAddModal=!0),class:"btn btn-primary"},"+ Add ISO")])]),a.loading?(d(),i("div",vo)):a.isos.length===0?(d(),i("div",po,[...e[27]||(e[27]=[o("p",null,"No ISO images uploaded yet.",-1),o("p",{class:"text-sm"},"Upload ISOs to deploy VMs.",-1)])])):(d(),i("div",bo,[o("table",So,[e[28]||(e[28]=o("thead",null,[o("tr",null,[o("th",null,"Name"),o("th",null,"OS Type"),o("th",null,"Version"),o("th",null,"Architecture"),o("th",null,"Size"),o("th",null,"Checksum"),o("th",null,"Status"),o("th",null,"Actions")])],-1)),o("tbody",null,[(d(!0),i(N,null,B(a.isos,t=>(d(),i("tr",{key:t.id},[o("td",null,n(t.name),1),o("td",null,[o("span",fo,n(a.formatOSType(t.os_type)),1)]),o("td",null,n(t.version||"N/A"),1),o("td",null,n(t.architecture),1),o("td",null,n(a.formatBytes(t.file_size)),1),o("td",wo,n(t.checksum?t.checksum.substring(0,16)+"...":"N/A"),1),o("td",null,[o("span",{class:W(["badge",t.is_available?"badge-success":"badge-danger"])},n(t.is_available?"Available":"Unavailable"),3)]),o("td",null,[o("div",yo,[o("button",{onClick:p=>a.verifyISO(t.id),class:"btn btn-outline btn-sm"},"Verify",8,go),o("button",{onClick:p=>a.deleteISO(t.id),class:"btn btn-danger btn-sm"},"Delete",8,_o)])])]))),128))])])]))]),a.showAddModal?(d(),i("div",{key:0,class:"modal",onClick:e[25]||(e[25]=t=>a.showAddModal=!1)},[o("div",{class:"modal-content modal-large",onClick:e[24]||(e[24]=T(()=>{},["stop"]))},[o("div",ho,[e[29]||(e[29]=o("h3",null,"Add ISO Image",-1)),o("button",{onClick:e[1]||(e[1]=(...t)=>a.closeModal&&a.closeModal(...t)),class:"btn-close"},"Ã—")]),a.isoSelectionMode?v("",!0):(d(),i("div",Oo,[e[33]||(e[33]=o("div",{class:"selection-prompt"},[o("h4",null,"How would you like to add an ISO image?"),o("p",{class:"text-muted"},"Choose from popular ISOs, upload from your computer, or download from a URL")],-1)),o("div",xo,[o("div",{onClick:e[2]||(e[2]=t=>a.isoSelectionMode="available"),class:"selection-card"},[...e[30]||(e[30]=[o("div",{class:"selection-icon"},"ðŸ’¿",-1),o("div",{class:"selection-info"},[o("h5",null,"Select from Available"),o("p",null,"Choose from 19 verified ISOs"),o("ul",{class:"selection-list"},[o("li",null,"Ubuntu, Debian, RHEL-based"),o("li",null,"pfSense, OPNsense, TrueNAS"),o("li",null,"Proxmox, Untangle, Zentyal")])],-1),o("div",{class:"selection-arrow"},"â†’",-1)])]),o("div",{onClick:e[3]||(e[3]=t=>a.isoSelectionMode="upload"),class:"selection-card"},[...e[31]||(e[31]=[o("div",{class:"selection-icon"},"â¬†ï¸",-1),o("div",{class:"selection-info"},[o("h5",null,"Upload from Computer"),o("p",null,"Upload an ISO file from your device"),o("ul",{class:"selection-list"},[o("li",null,"Any ISO file"),o("li",null,"Custom distributions"),o("li",null,"Local files")])],-1),o("div",{class:"selection-arrow"},"â†’",-1)])]),o("div",{onClick:e[4]||(e[4]=t=>a.isoSelectionMode="download"),class:"selection-card"},[...e[32]||(e[32]=[o("div",{class:"selection-icon"},"â¬‡ï¸",-1),o("div",{class:"selection-info"},[o("h5",null,"Download from URL"),o("p",null,"Provide a direct download link"),o("ul",{class:"selection-list"},[o("li",null,"Direct ISO URLs"),o("li",null,"Mirror servers"),o("li",null,"Custom sources")])],-1),o("div",{class:"selection-arrow"},"â†’",-1)])])])])),a.isoSelectionMode==="available"?(d(),i("div",ko,[o("div",Io,[o("button",{onClick:e[5]||(e[5]=t=>a.isoSelectionMode=null),class:"btn btn-outline btn-sm"}," â† Back to Selection "),e[34]||(e[34]=o("h4",null,"Select ISO Images",-1)),a.selectedISONames.length>0?(d(),i("span",Fo,n(a.selectedISONames.length)+" selected ",1)):v("",!0)]),e[35]||(e[35]=o("p",{class:"text-muted text-sm mb-2"},"Click on ISOs to select multiple. Selected ISOs will be downloaded to your library.",-1)),o("div",Co,[(d(!0),i(N,null,B(a.sortedPredefinedISOs,t=>(d(),i("div",{key:t.name,onClick:p=>a.toggleISOSelection(t),class:W(["predefined-image-card",{selected:a.isISOSelected(t.name)}])},[o("div",Uo,n(t.icon),1),o("div",Ao,[o("div",Lo,n(t.name),1),o("div",No,n(a.formatOSType(t.os_type))+" "+n(t.version),1)]),a.isISOSelected(t.name)?(d(),i("div",Bo,"âœ“")):v("",!0)],10,Mo))),128))]),a.selectedISONames.length>0?(d(),i("div",To,[o("h5",null,"Selected ISOs ("+n(a.selectedISONames.length)+"):",1),o("div",Eo,[(d(!0),i(N,null,B(a.selectedISONames,t=>(d(),i("span",{key:t,class:"selected-image-chip"},n(t),1))),128))])])):v("",!0),o("div",Do,[o("button",{type:"button",onClick:e[6]||(e[6]=(...t)=>a.closeModal&&a.closeModal(...t)),class:"btn btn-outline"},"Cancel"),o("button",{type:"button",onClick:e[7]||(e[7]=(...t)=>a.saveSelectedISOs&&a.saveSelectedISOs(...t)),disabled:a.selectedISONames.length===0,class:"btn btn-primary"},n(`Add ${a.selectedISONames.length} ISO${a.selectedISONames.length!==1?"s":""}`),9,Ro)])])):v("",!0),a.isoSelectionMode==="upload"?(d(),i("form",{key:2,onSubmit:e[15]||(e[15]=T((...t)=>a.uploadISO&&a.uploadISO(...t),["prevent"])),class:"modal-body"},[o("div",Po,[o("button",{type:"button",onClick:e[8]||(e[8]=t=>a.isoSelectionMode=null),class:"btn btn-outline btn-sm"}," â† Back to Selection "),e[36]||(e[36]=o("h4",null,"Upload ISO from Computer",-1))]),o("div",Vo,[e[37]||(e[37]=o("label",{class:"form-label"},"ISO File *",-1)),o("input",{type:"file",onChange:e[9]||(e[9]=(...t)=>a.onFileSelected&&a.onFileSelected(...t)),accept:".iso",class:"form-control",required:""},null,32),a.selectedFile?(d(),i("p",Wo," Selected: "+n(a.selectedFile.name)+" ("+n(a.formatBytes(a.selectedFile.size))+") ",1)):v("",!0)]),o("div",zo,[e[38]||(e[38]=o("label",{class:"form-label"},"Display Name *",-1)),b(o("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>a.uploadForm.name=t),class:"form-control",required:""},null,512),[[k,a.uploadForm.name]])]),o("div",qo,[e[40]||(e[40]=o("label",{class:"form-label"},"OS Type *",-1)),b(o("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>a.uploadForm.os_type=t),class:"form-control",required:""},[...e[39]||(e[39]=[z('<option value="" data-v-8646b43a>Select OS</option><optgroup label="Linux Server" data-v-8646b43a><option value="ubuntu" data-v-8646b43a>Ubuntu Server</option><option value="debian" data-v-8646b43a>Debian</option><option value="centos" data-v-8646b43a>CentOS</option><option value="rocky" data-v-8646b43a>Rocky Linux</option><option value="alma" data-v-8646b43a>AlmaLinux</option><option value="fedora" data-v-8646b43a>Fedora Server</option><option value="opensuse" data-v-8646b43a>openSUSE</option></optgroup><optgroup label="Windows" data-v-8646b43a><option value="windows_server_2019" data-v-8646b43a>Windows Server 2019</option><option value="windows_server_2022" data-v-8646b43a>Windows Server 2022</option><option value="windows_10" data-v-8646b43a>Windows 10</option><option value="windows_11" data-v-8646b43a>Windows 11</option></optgroup><optgroup label="Firewall / Network" data-v-8646b43a><option value="pfsense" data-v-8646b43a>pfSense</option><option value="opnsense" data-v-8646b43a>OPNsense</option><option value="sophos" data-v-8646b43a>Sophos Firewall</option><option value="fortinet" data-v-8646b43a>FortiGate</option><option value="vyos" data-v-8646b43a>VyOS</option></optgroup><optgroup label="Other" data-v-8646b43a><option value="freebsd" data-v-8646b43a>FreeBSD</option><option value="truenas" data-v-8646b43a>TrueNAS</option><option value="proxmox" data-v-8646b43a>Proxmox VE</option><option value="esxi" data-v-8646b43a>VMware ESXi</option><option value="other" data-v-8646b43a>Other / Custom</option></optgroup>',5)])],512),[[M,a.uploadForm.os_type]])]),o("div",Go,[o("div",jo,[e[41]||(e[41]=o("label",{class:"form-label"},"Version",-1)),b(o("input",{"onUpdate:modelValue":e[12]||(e[12]=t=>a.uploadForm.version=t),class:"form-control",placeholder:"22.04"},null,512),[[k,a.uploadForm.version]])]),o("div",Ho,[e[43]||(e[43]=o("label",{class:"form-label"},"Architecture",-1)),b(o("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>a.uploadForm.architecture=t),class:"form-control"},[...e[42]||(e[42]=[o("option",{value:"amd64"},"amd64 (x86_64)",-1),o("option",{value:"arm64"},"arm64",-1)])],512),[[M,a.uploadForm.architecture]])])]),a.uploading?(d(),i("div",Xo,[o("div",Zo,[o("div",Ko,[e[44]||(e[44]=o("span",{class:"stat-label"},"Progress:",-1)),o("span",Qo,n(a.uploadProgress)+"%",1)]),o("div",Jo,[e[45]||(e[45]=o("span",{class:"stat-label"},"Transferred:",-1)),o("span",Yo,n(a.formatBytes(a.uploadedBytes))+" / "+n(a.formatBytes(a.totalBytes)),1)]),a.uploadSpeed>0?(d(),i("div",$o,[e[46]||(e[46]=o("span",{class:"stat-label"},"Speed:",-1)),o("span",oe,n(a.formatBytes(a.uploadSpeed))+"/s",1)])):v("",!0),a.uploadSpeed>0&&a.uploadProgress<100?(d(),i("div",ee,[e[47]||(e[47]=o("span",{class:"stat-label"},"Time remaining:",-1)),o("span",ae,n(a.formatTimeRemaining()),1)])):v("",!0)]),o("div",te,[o("div",{class:"progress-fill",style:to({width:a.uploadProgress+"%"})},null,4)])])):v("",!0),o("div",le,[o("button",{type:"button",onClick:e[14]||(e[14]=(...t)=>a.closeModal&&a.closeModal(...t)),class:"btn btn-outline",disabled:a.uploading},"Cancel",8,se),o("button",{type:"submit",class:"btn btn-primary",disabled:a.uploading||!a.selectedFile},n(a.uploading?"Uploading...":"Upload ISO"),9,ne)])],32)):v("",!0),a.isoSelectionMode==="download"?(d(),i("form",{key:3,onSubmit:e[23]||(e[23]=T((...t)=>a.downloadFromUrl&&a.downloadFromUrl(...t),["prevent"])),class:"modal-body"},[o("div",ie,[o("button",{type:"button",onClick:e[16]||(e[16]=t=>a.isoSelectionMode=null),class:"btn btn-outline btn-sm"}," â† Back to Selection "),e[48]||(e[48]=o("h4",null,"Download ISO from URL",-1))]),o("div",de,[e[49]||(e[49]=o("label",{class:"form-label"},"ISO URL *",-1)),b(o("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>a.downloadForm.url=t),type:"url",class:"form-control",placeholder:"https://example.com/path/to/image.iso",required:""},null,512),[[k,a.downloadForm.url]]),e[50]||(e[50]=o("p",{class:"text-xs text-muted mt-1"},"Direct link to the ISO file",-1))]),o("div",re,[e[51]||(e[51]=o("label",{class:"form-label"},"Display Name *",-1)),b(o("input",{"onUpdate:modelValue":e[18]||(e[18]=t=>a.downloadForm.name=t),class:"form-control",required:""},null,512),[[k,a.downloadForm.name]])]),o("div",ue,[e[53]||(e[53]=o("label",{class:"form-label"},"OS Type *",-1)),b(o("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>a.downloadForm.os_type=t),class:"form-control",required:""},[...e[52]||(e[52]=[z('<option value="" data-v-8646b43a>Select OS</option><optgroup label="Linux Server" data-v-8646b43a><option value="ubuntu" data-v-8646b43a>Ubuntu Server</option><option value="debian" data-v-8646b43a>Debian</option><option value="centos" data-v-8646b43a>CentOS</option><option value="rocky" data-v-8646b43a>Rocky Linux</option><option value="alma" data-v-8646b43a>AlmaLinux</option><option value="fedora" data-v-8646b43a>Fedora Server</option><option value="opensuse" data-v-8646b43a>openSUSE</option></optgroup><optgroup label="Windows" data-v-8646b43a><option value="windows_server_2019" data-v-8646b43a>Windows Server 2019</option><option value="windows_server_2022" data-v-8646b43a>Windows Server 2022</option><option value="windows_10" data-v-8646b43a>Windows 10</option><option value="windows_11" data-v-8646b43a>Windows 11</option></optgroup><optgroup label="Firewall / Network" data-v-8646b43a><option value="pfsense" data-v-8646b43a>pfSense</option><option value="opnsense" data-v-8646b43a>OPNsense</option><option value="sophos" data-v-8646b43a>Sophos Firewall</option><option value="fortinet" data-v-8646b43a>FortiGate</option><option value="vyos" data-v-8646b43a>VyOS</option></optgroup><optgroup label="Other" data-v-8646b43a><option value="freebsd" data-v-8646b43a>FreeBSD</option><option value="truenas" data-v-8646b43a>TrueNAS</option><option value="proxmox" data-v-8646b43a>Proxmox VE</option><option value="esxi" data-v-8646b43a>VMware ESXi</option><option value="other" data-v-8646b43a>Other / Custom</option></optgroup>',5)])],512),[[M,a.downloadForm.os_type]])]),o("div",ce,[o("div",me,[e[54]||(e[54]=o("label",{class:"form-label"},"Version",-1)),b(o("input",{"onUpdate:modelValue":e[20]||(e[20]=t=>a.downloadForm.version=t),class:"form-control",placeholder:"22.04"},null,512),[[k,a.downloadForm.version]])]),o("div",ve,[e[56]||(e[56]=o("label",{class:"form-label"},"Architecture",-1)),b(o("select",{"onUpdate:modelValue":e[21]||(e[21]=t=>a.downloadForm.architecture=t),class:"form-control"},[...e[55]||(e[55]=[o("option",{value:"amd64"},"amd64 (x86_64)",-1),o("option",{value:"arm64"},"arm64",-1)])],512),[[M,a.downloadForm.architecture]])])]),a.downloading?(d(),i("div",pe,[...e[57]||(e[57]=[o("p",{class:"text-center text-muted"},"Downloading ISO from URL...",-1),o("div",{class:"loading-spinner"},null,-1)])])):v("",!0),o("div",be,[o("button",{type:"button",onClick:e[22]||(e[22]=(...t)=>a.closeModal&&a.closeModal(...t)),class:"btn btn-outline",disabled:a.downloading},"Cancel",8,Se),o("button",{type:"submit",class:"btn btn-primary",disabled:a.downloading},n(a.downloading?"Downloading...":"Download ISO"),9,fe)])],32)):v("",!0)])])):v("",!0)])}const ge=ao(io,[["render",we],["__scopeId","data-v-8646b43a"]]);export{ge as default};
